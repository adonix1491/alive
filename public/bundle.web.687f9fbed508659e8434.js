(self.webpackChunkAliveApp=self.webpackChunkAliveApp||[]).push([[922],{1592(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i,d=r(n(29293)),s=r(n(17383)),u=r(n(34579)),c=n(19722),f=r(n(9271)),S=(0,u.default)(function e(){(0,s.default)(this,e)},[{key:"getSettings",value:(i=(0,d.default)(function*(){var e=yield f.default.getToken();return e?(0,c.authenticatedRequest)("/notifications/settings",e,{method:"GET"}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(){return i.apply(this,arguments)})},{key:"updateSettings",value:(o=(0,d.default)(function*(e){var t=yield f.default.getToken();return t?(0,c.authenticatedRequest)("/notifications/settings",t,{method:"PUT",body:JSON.stringify(e)}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return o.apply(this,arguments)})},{key:"sendEmailVerification",value:(l=(0,d.default)(function*(e){var t=yield f.default.getToken();return t?(0,c.authenticatedRequest)("/notifications/verify-email",t,{method:"POST",body:JSON.stringify({email:e})}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return l.apply(this,arguments)})},{key:"confirmEmail",value:(a=(0,d.default)(function*(e){var t=yield f.default.getToken();return t?(0,c.authenticatedRequest)("/notifications/confirm-email",t,{method:"POST",body:JSON.stringify({code:e})}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return a.apply(this,arguments)})}]);t.default=new S},1730(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=r(n(29293)),i=n(19722),d=r(n(9271)),s={getTemplates:(l=(0,o.default)(function*(){try{var e=yield d.default.getToken();return e?yield(0,i.authenticatedRequest)("/message-templates",e,{method:"GET"}):{error:{code:"UNAUTHORIZED",message:"Â∞öÊú™ÁôªÂÖ•"}}}catch(e){return{error:{code:"NETWORK_ERROR",message:e.message}}}}),function(){return l.apply(this,arguments)}),saveTemplate:(a=(0,o.default)(function*(e){try{var t=yield d.default.getToken();return t?yield(0,i.authenticatedRequest)("/message-templates",t,{method:"POST",body:JSON.stringify(e)}):{error:{code:"UNAUTHORIZED",message:"Â∞öÊú™ÁôªÂÖ•"}}}catch(e){return{error:{code:"NETWORK_ERROR",message:e.message}}}}),function(e){return a.apply(this,arguments)})};t.default=s},2241(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.AppNavigator=function(){var e=(0,g.useAuth)(),t=e.isAuthenticated;return e.isLoading?(0,h.jsx)(d.default,{style:p.loadingContainer,children:(0,h.jsx)(i.default,{style:p.loadingText,children:"Loading..."})}):(0,h.jsx)(a.NavigationContainer,{children:(0,h.jsx)(O.Navigator,{screenOptions:{headerShown:!1},children:t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(O.Screen,{name:"MainTabs",component:m}),(0,h.jsx)(O.Screen,{name:c.ROUTES.MESSAGE_TEMPLATES,component:f.MessageTemplatesScreen,options:{headerShown:!0,title:"Ë®äÊÅØÁØÑÊú¨"}}),(0,h.jsx)(O.Screen,{name:c.ROUTES.NOTIFICATION_SETTINGS,component:f.NotificationSettingsScreen,options:{headerShown:!0,title:"ÈÄöÁü•Ë®≠ÂÆö"}}),(0,h.jsx)(O.Screen,{name:c.ROUTES.ANOMALY_RULES,component:f.AnomalyRulesScreen,options:{headerShown:!0,title:"Áï∞Â∏∏Ë¶èÂâá"}})]}):(0,h.jsx)(O.Screen,{name:c.ROUTES.AUTH,component:S.AuthScreen})})})},r(n(96540));var a=n(76513),l=n(9902),o=n(2868),i=r(n(78506)),d=r(n(9176)),s=r(n(43999)),u=n(81858),c=n(64186),f=n(26210),S=n(64635),g=n(76352),h=n(74848),O=(0,l.createStackNavigator)(),y=(0,o.createBottomTabNavigator)();function m(){return(0,h.jsxs)(y.Navigator,{screenOptions:function(e){var t=e.route;return{headerShown:!1,tabBarActiveTintColor:u.COLORS.primary,tabBarInactiveTintColor:u.COLORS.textSecondary,tabBarStyle:{backgroundColor:u.COLORS.cardBackground,borderTopColor:u.COLORS.gray300,paddingBottom:u.SPACING.xs,height:60},tabBarLabelStyle:{fontSize:u.FONTS.size.xs,marginBottom:u.SPACING.xs},tabBarIcon:function(e){e.focused,e.color;var n=e.size,r="";return t.name===c.ROUTES.HOME&&(r="üè†"),t.name===c.ROUTES.SETTINGS&&(r="‚öôÔ∏è"),t.name===c.ROUTES.EMERGENCY_CONTACTS&&(r="üë•"),t.name===c.ROUTES.PROFILE&&(r="üë§"),(0,h.jsx)(i.default,{style:{fontSize:n},children:r})}}},children:[(0,h.jsx)(y.Screen,{name:c.ROUTES.HOME,component:f.HomeScreen,options:{title:"È¶ñÈ†Å"}}),(0,h.jsx)(y.Screen,{name:c.ROUTES.EMERGENCY_CONTACTS,component:f.EmergencyContactsScreen,options:{title:"ËÅØÁµ°‰∫∫"}}),(0,h.jsx)(y.Screen,{name:c.ROUTES.PROFILE,component:f.ProfileScreen,options:{title:"ÊàëÁöÑ"}}),(0,h.jsx)(y.Screen,{name:c.ROUTES.SETTINGS,component:f.SettingsScreen,options:{title:"Ë®≠ÂÆö"}})]})}var p=s.default.create({loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:u.COLORS.background},loadingText:{fontSize:u.FONTS.size.md,color:u.COLORS.textPrimary}})},9271(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i,d,s,u,c,f,S=r(n(29293)),g=r(n(17383)),h=r(n(34579)),O=r(n(52444)),y=n(19722),m=(0,h.default)(function e(){(0,g.default)(this,e)},[{key:"register",value:(f=(0,S.default)(function*(e){var t=yield(0,y.apiRequest)("/auth/register",{method:"POST",body:JSON.stringify(e)});return t.data&&(yield this.saveToken(t.data.token)),t}),function(e){return f.apply(this,arguments)})},{key:"login",value:(c=(0,S.default)(function*(e){var t=yield(0,y.apiRequest)("/auth/login",{method:"POST",body:JSON.stringify(e)});return t.data&&(yield this.saveToken(t.data.token)),t}),function(e){return c.apply(this,arguments)})},{key:"guestLogin",value:(u=(0,S.default)(function*(e){var t=yield(0,y.apiRequest)("/auth/guest-login",{method:"POST",body:JSON.stringify(e)});return t.data&&(yield this.saveToken(t.data.token)),t}),function(e){return u.apply(this,arguments)})},{key:"getMe",value:(s=(0,S.default)(function*(){var e=yield this.getToken();return e?(0,y.authenticatedRequest)("/auth/me",e,{method:"GET"}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(){return s.apply(this,arguments)})},{key:"updateProfile",value:(d=(0,S.default)(function*(e){var t=yield this.getToken();return t?(0,y.authenticatedRequest)("/user/profile",t,{method:"PUT",body:JSON.stringify(e)}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return d.apply(this,arguments)})},{key:"logout",value:(i=(0,S.default)(function*(){yield O.default.removeItem(y.AUTH_TOKEN_KEY)}),function(){return i.apply(this,arguments)})},{key:"saveToken",value:(o=(0,S.default)(function*(e){yield O.default.setItem(y.AUTH_TOKEN_KEY,e)}),function(e){return o.apply(this,arguments)})},{key:"getToken",value:(l=(0,S.default)(function*(){return yield O.default.getItem(y.AUTH_TOKEN_KEY)}),function(){return l.apply(this,arguments)})},{key:"isAuthenticated",value:(a=(0,S.default)(function*(){return!!(yield this.getToken())}),function(){return a.apply(this,arguments)})}]);t.default=new m},16623(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppNavigator",{enumerable:!0,get:function(){return r.AppNavigator}});var r=n(2241)},19338(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i=r(n(29293)),d=r(n(17383)),s=r(n(34579)),u=n(19722),c=r(n(9271)),f=(0,s.default)(function e(){(0,d.default)(this,e)},[{key:"createCheckIn",value:(o=(0,i.default)(function*(e){var t=yield c.default.getToken();return t?(0,u.authenticatedRequest)("/checkin",t,{method:"POST",body:JSON.stringify(e||{})}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return o.apply(this,arguments)})},{key:"getToken",value:(l=(0,i.default)(function*(){return c.default.getToken()}),function(){return l.apply(this,arguments)})},{key:"getHistory",value:(a=(0,i.default)(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=yield c.default.getToken();return n?(0,u.authenticatedRequest)(`/checkin/history?limit=${e}&offset=${t}`,n,{method:"GET"}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(){return a.apply(this,arguments)})}]);t.default=new f},19722(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_TOKEN_KEY=t.API_BASE_URL=void 0,t.apiRequest=o,t.authenticatedRequest=function(e,t){return d.apply(this,arguments)};var a=r(n(29293)),l=t.API_BASE_URL="https://alive-iota.vercel.app/api";function o(e){return i.apply(this,arguments)}function i(){return i=(0,a.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=yield fetch(`${l}${e}`,Object.assign({},t,{headers:Object.assign({"Content-Type":"application/json"},t.headers)})),r=yield n.json();return n.ok?{data:r}:{error:r.error||{code:"UNKNOWN_ERROR",message:"ÁôºÁîüÊú™Áü•ÈåØË™§"}}}catch(e){return{error:{code:"NETWORK_ERROR",message:"Á∂≤Ë∑ØÈåØË™§ÔºåË´ãÊ™¢Êü•ÈÄ£Á∑ö",details:e.message}}}}),i.apply(this,arguments)}function d(){return d=(0,a.default)(function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o(e,Object.assign({},n,{headers:Object.assign({},n.headers,{Authorization:`Bearer ${t}`})}))}),d.apply(this,arguments)}t.AUTH_TOKEN_KEY="@alive_auth_token"},21633(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(n(96540));var a=r(n(9176)),l=r(n(43999)),o=r(n(97576)),i=n(81858),d=n(74848),s=l.default.create({container:{flex:1}});t.default=function(e){var t=e.children,n=e.style,r=e.variant,l=void 0===r?"primary":r;return(0,d.jsxs)(a.default,{style:[s.container,{backgroundColor:function(){switch(l){case"primary":default:return i.COLORS.primary;case"light":return i.COLORS.background;case"dark":return i.COLORS.gray800}}()},n],children:[(0,d.jsx)(o.default,{barStyle:"light"===l?"dark-content":"light-content",backgroundColor:"transparent",translucent:!0}),t]})}},26210(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnomalyRulesScreen",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"AuthScreen",{enumerable:!0,get:function(){return i.AuthScreen}}),Object.defineProperty(t,"EmergencyContactsScreen",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HomeScreen",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MessageTemplatesScreen",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"NotificationSettingsScreen",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ProfileScreen",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SettingsScreen",{enumerable:!0,get:function(){return l.default}});var a=r(n(49748)),l=r(n(64906)),o=r(n(43687)),i=n(64635),d=r(n(50291)),s=r(n(45791)),u=r(n(58749)),c=r(n(75764))},27699(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),l=r(n(9176)),o=r(n(78506)),i=r(n(94650)),d=r(n(43999)),s=r(n(48831)),u=n(81858),c=n(74848),f=d.default.create({container:{alignItems:"center",justifyContent:"center"},pulseRing:{position:"absolute",width:u.CHECK_IN_BUTTON.size+40,height:u.CHECK_IN_BUTTON.size+40,borderRadius:(u.CHECK_IN_BUTTON.size+40)/2,backgroundColor:u.COLORS.primary},button:Object.assign({width:u.CHECK_IN_BUTTON.size,height:u.CHECK_IN_BUTTON.size,borderRadius:u.CHECK_IN_BUTTON.size/2,backgroundColor:u.COLORS.primary,alignItems:"center",justifyContent:"center"},u.SHADOWS.lg),buttonChecked:{backgroundColor:u.COLORS.gray300},innerCircle:{width:u.CHECK_IN_BUTTON.innerSize,height:u.CHECK_IN_BUTTON.innerSize,borderRadius:u.CHECK_IN_BUTTON.innerSize/2,backgroundColor:u.COLORS.primaryLight,alignItems:"center",justifyContent:"center"},innerCircleChecked:{backgroundColor:u.COLORS.gray200},faceIcon:{fontSize:u.CHECK_IN_BUTTON.iconSize},checkIcon:{fontSize:u.CHECK_IN_BUTTON.iconSize,color:u.COLORS.success,fontWeight:"bold"},statusText:{position:"absolute",bottom:u.SPACING.xl,color:u.COLORS.textOnPrimary,fontSize:u.FONTS.size.lg,fontWeight:u.FONTS.semiBold},statusTextChecked:{color:u.COLORS.textSecondary}});t.default=function(e){var t=e.isCheckedIn,n=e.onPress,r=e.disabled,d=void 0!==r&&r,u=e.style,S=(0,a.useRef)(new s.default.Value(1)).current,g=(0,a.useRef)(new s.default.Value(1)).current,h=(0,a.useRef)(new s.default.Value(t?1:0)).current;return(0,a.useEffect)(function(){if(!t){var e=s.default.loop(s.default.sequence([s.default.timing(g,{toValue:1.1,duration:1e3,useNativeDriver:!0}),s.default.timing(g,{toValue:1,duration:1e3,useNativeDriver:!0})]));return e.start(),function(){return e.stop()}}g.setValue(1)},[t,g]),(0,a.useEffect)(function(){s.default.timing(h,{toValue:t?1:0,duration:300,useNativeDriver:!0}).start()},[t,h]),(0,c.jsxs)(l.default,{style:[f.container,u],children:[(0,c.jsx)(s.default.View,{style:[f.pulseRing,{transform:[{scale:g}],opacity:t?0:.3}]}),(0,c.jsx)(i.default,{activeOpacity:.9,onPress:n,onPressIn:function(){s.default.spring(S,{toValue:.95,useNativeDriver:!0}).start()},onPressOut:function(){s.default.spring(S,{toValue:1,friction:3,tension:40,useNativeDriver:!0}).start()},disabled:d,children:(0,c.jsxs)(s.default.View,{style:[f.button,t&&f.buttonChecked,{transform:[{scale:S}]}],children:[(0,c.jsx)(l.default,{style:[f.innerCircle,t&&f.innerCircleChecked],children:t?(0,c.jsx)(s.default.Text,{style:[f.checkIcon,{opacity:h,transform:[{scale:h.interpolate({inputRange:[0,1],outputRange:[.5,1]})}]}],children:"‚úì"}):(0,c.jsx)(o.default,{style:f.faceIcon,children:"üòä"})}),(0,c.jsx)(o.default,{style:[f.statusText,t&&f.statusTextChecked],children:t?"Â∑≤Á∞ΩÂà∞":"‰ªäÊó•Á∞ΩÂà∞"})]})})]})}},43687(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(41132)),l=r(n(29293)),o=r(n(85715)),i=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),d=r(n(9176)),s=r(n(78506)),u=r(n(43999)),c=r(n(57061)),f=r(n(68444)),S=r(n(94650)),g=r(n(37043)),h=r(n(54081)),O=r(n(15782)),y=r(n(92869)),m=r(n(36430)),p=n(52929),C=n(81858),x=n(69742),T=n(76513),N=n(74848),I=u.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:C.SPACING.lg,paddingTop:C.SPACING.lg,paddingBottom:C.SPACING.xl},backButton:{padding:C.SPACING.sm},backIcon:{fontSize:C.FONTS.size.xxl,color:C.COLORS.white},headerTitle:{fontSize:C.FONTS.size.xl,fontWeight:C.FONTS.bold,color:C.COLORS.white},addButton:{width:36,height:36,borderRadius:18,backgroundColor:C.COLORS.warning,alignItems:"center",justifyContent:"center"},addIcon:{fontSize:C.FONTS.size.xl,color:C.COLORS.black,fontWeight:C.FONTS.bold},listContent:{paddingHorizontal:C.SPACING.lg,paddingBottom:C.SPACING.xxxl},contactCard:Object.assign({flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:C.COLORS.cardBackground,borderRadius:C.RADIUS.lg,padding:C.SPACING.lg,marginBottom:C.SPACING.md},C.SHADOWS.sm),contactInfo:{flexDirection:"row",alignItems:"center",flex:1},contactIcon:{width:44,height:44,borderRadius:22,backgroundColor:C.COLORS.primary,alignItems:"center",justifyContent:"center",marginRight:C.SPACING.md},contactIconText:{fontSize:C.FONTS.size.lg,fontWeight:C.FONTS.bold,color:C.COLORS.white},contactDetails:{flex:1},contactName:{fontSize:C.FONTS.size.lg,fontWeight:C.FONTS.semiBold,color:C.COLORS.textPrimary},contactMeta:{marginTop:C.SPACING.xs},contactPhone:{fontSize:C.FONTS.size.sm,color:C.COLORS.textSecondary},contactLine:{fontSize:C.FONTS.size.sm,color:C.COLORS.success,marginTop:2},disabledLabel:{fontSize:C.FONTS.size.xs,color:C.COLORS.danger,marginTop:C.SPACING.xs},contactActions:{flexDirection:"row",alignItems:"center",gap:C.SPACING.md},deleteButton:{padding:C.SPACING.xs},deleteIcon:{fontSize:18},emptyContainer:{alignItems:"center",paddingTop:C.SPACING.huge},emptyText:{fontSize:C.FONTS.size.lg,color:C.COLORS.white,marginBottom:C.SPACING.sm},emptyHint:{fontSize:C.FONTS.size.md,color:C.COLORS.gray300},modalOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center",padding:C.SPACING.lg},modalContainer:Object.assign({backgroundColor:C.COLORS.white,borderRadius:C.RADIUS.lg,padding:C.SPACING.xl,width:"100%",maxWidth:400},C.SHADOWS.lg),modalTitle:{fontSize:C.FONTS.size.xl,fontWeight:C.FONTS.bold,color:C.COLORS.textPrimary,marginBottom:C.SPACING.lg,textAlign:"center"},inputLabel:{fontSize:C.FONTS.size.sm,color:C.COLORS.textSecondary,marginBottom:C.SPACING.xs,marginTop:C.SPACING.md},input:{backgroundColor:C.COLORS.background,borderRadius:C.RADIUS.md,padding:C.SPACING.md,borderWidth:1,borderColor:C.COLORS.gray200,fontSize:C.FONTS.size.md},modalButtons:{flexDirection:"row",justifyContent:"space-between",marginTop:C.SPACING.xl,gap:C.SPACING.md},modalButton:{flex:1,paddingVertical:C.SPACING.md,borderRadius:C.RADIUS.md,alignItems:"center"},cancelButton:{backgroundColor:C.COLORS.gray100},saveButton:{backgroundColor:C.COLORS.primary},cancelButtonText:{color:C.COLORS.textPrimary,fontWeight:C.FONTS.medium},saveButtonText:{color:C.COLORS.white,fontWeight:C.FONTS.bold}});t.default=function(){var e=(0,T.useNavigation)(),t=(0,i.useState)([]),n=(0,o.default)(t,2),r=n[0],u=n[1],b=(0,i.useState)(!1),j=(0,o.default)(b,2),v=j[0],A=j[1],P=(0,i.useState)(!1),R=(0,o.default)(P,2),L=R[0],E=R[1],_=(0,i.useState)(null),k=(0,o.default)(_,2),z=k[0],w=k[1],B=(0,i.useState)(""),G=(0,o.default)(B,2),F=G[0],D=G[1],M=(0,i.useState)(""),W=(0,o.default)(M,2),H=W[0],U=W[1],V=(0,i.useState)(""),K=(0,o.default)(V,2),Y=K[0],q=K[1],$=(0,i.useState)(!1),J=(0,o.default)($,2),X=J[0],Z=J[1],Q=(0,i.useCallback)((0,l.default)(function*(){A(!0);try{var e=yield x.contactsService.getAll();e.data&&u(e.data.contacts)}catch(e){console.error("Failed to load contacts:",e),h.default.alert("ÈåØË™§","ËºâÂÖ•ËÅØÁµ°‰∫∫Â§±Êïó")}finally{A(!1)}}),[]);(0,i.useEffect)(function(){Q()},[Q]);var ee,te,ne=(ee=(0,l.default)(function*(e){var t=(0,a.default)(r);u(function(t){return t.map(function(t){return t.id===e.id?Object.assign({},t,{isEnabled:!t.isEnabled}):t})});try{yield x.contactsService.update(e.id,{isEnabled:!e.isEnabled})}catch(e){u(t),h.default.alert("ÈåØË™§","Êõ¥Êñ∞ÁãÄÊÖãÂ§±Êïó")}}),function(e){return ee.apply(this,arguments)}),re=(te=(0,l.default)(function*(){if(F.trim())if(H.trim()||Y.trim()){Z(!0);try{var e={name:F,phone:H,lineId:Y};if(z){var t=yield x.contactsService.update(z.id,e);if(t.error)throw new Error(t.error.message)}else{var n=yield x.contactsService.create(Object.assign({},e,{priority:r.length+1}));if(n.error)throw new Error(n.error.message)}E(!1),Q()}catch(e){h.default.alert("ÈåØË™§",e.message||"Êìç‰ΩúÂ§±Êïó")}finally{Z(!1)}}else h.default.alert("ÈåØË™§","ÈõªË©± Êàñ LINE ID Ë´ãËá≥Â∞ëÂ°´ÂØ´ÈÄôÂÖ©È†Ö‰πã‰∏Ä");else h.default.alert("ÈåØË™§","ÂßìÂêçÁÇ∫ÂøÖÂ°´")}),function(){return te.apply(this,arguments)});return(0,N.jsx)(p.GradientBackground,{variant:"primary",children:(0,N.jsxs)(f.default,{style:I.container,children:[(0,N.jsxs)(d.default,{style:I.header,children:[(0,N.jsx)(S.default,{style:I.backButton,onPress:function(){return e.goBack()},children:(0,N.jsx)(s.default,{style:I.backIcon,children:"‚Üê"})}),(0,N.jsx)(s.default,{style:I.headerTitle,children:"Á∑äÊÄ•ËÅØÁµ°‰∫∫"}),(0,N.jsx)(S.default,{style:I.addButton,onPress:function(){w(null),D(""),U(""),q(""),E(!0)},children:(0,N.jsx)(s.default,{style:I.addIcon,children:"Ôºã"})})]}),v&&0===r.length?(0,N.jsx)(y.default,{size:"large",color:C.COLORS.white,style:{marginTop:50}}):(0,N.jsx)(c.default,{data:r,renderItem:function(e){var t=e.item;return(0,N.jsxs)(S.default,{style:I.contactCard,onPress:function(){return w(e=t),D(e.name),U(e.phone),q(e.lineId||""),void E(!0);var e},activeOpacity:.7,children:[(0,N.jsxs)(d.default,{style:I.contactInfo,children:[(0,N.jsx)(d.default,{style:I.contactIcon,children:(0,N.jsx)(s.default,{style:I.contactIconText,children:t.name.charAt(0)})}),(0,N.jsxs)(d.default,{style:I.contactDetails,children:[(0,N.jsx)(s.default,{style:I.contactName,children:t.name}),(0,N.jsxs)(d.default,{style:I.contactMeta,children:[!!t.phone&&(0,N.jsxs)(s.default,{style:I.contactPhone,children:["üìû ",t.phone]}),!!t.lineId&&(0,N.jsxs)(s.default,{style:I.contactLine,children:["üí¨ ",t.lineId]})]}),!t.isEnabled&&(0,N.jsx)(s.default,{style:I.disabledLabel,children:"Â∑≤ÂÅúÁî®"})]})]}),(0,N.jsxs)(d.default,{style:I.contactActions,children:[(0,N.jsx)(g.default,{value:t.isEnabled,onValueChange:function(){return ne(t)},trackColor:{false:C.COLORS.gray300,true:C.COLORS.primaryLight},thumbColor:t.isEnabled?C.COLORS.primary:C.COLORS.gray400}),(0,N.jsx)(S.default,{style:I.deleteButton,onPress:function(){return e=t.id,void h.default.alert("Á¢∫Ë™çÂà™Èô§","Á¢∫ÂÆöË¶ÅÂà™Èô§Ê≠§Á∑äÊÄ•ËÅØÁµ°‰∫∫ÂóéÔºü",[{text:"ÂèñÊ∂à",style:"cancel"},{text:"Âà™Èô§",style:"destructive",onPress:(n=(0,l.default)(function*(){try{A(!0),yield x.contactsService.delete(e),yield Q()}catch(e){h.default.alert("ÈåØË™§","Âà™Èô§Â§±Êïó"),A(!1)}}),function(){return n.apply(this,arguments)})}]);var e,n},children:(0,N.jsx)(s.default,{style:I.deleteIcon,children:"üóëÔ∏è"})})]})]})},keyExtractor:function(e){return String(e.id)},contentContainerStyle:I.listContent,showsVerticalScrollIndicator:!1,ListEmptyComponent:(0,N.jsxs)(d.default,{style:I.emptyContainer,children:[(0,N.jsx)(s.default,{style:I.emptyText,children:"Â∞öÊú™Ë®≠ÂÆöÁ∑äÊÄ•ËÅØÁµ°‰∫∫"}),(0,N.jsx)(s.default,{style:I.emptyHint,children:"ÈªûÊìäÂè≥‰∏äËßí Ôºã Ê∑ªÂä†ËÅØÁµ°‰∫∫"})]})}),(0,N.jsx)(m.default,{visible:L,transparent:!0,animationType:"fade",onRequestClose:function(){return E(!1)},children:(0,N.jsx)(d.default,{style:I.modalOverlay,children:(0,N.jsxs)(d.default,{style:I.modalContainer,children:[(0,N.jsx)(s.default,{style:I.modalTitle,children:z?"Á∑®ËºØËÅØÁµ°‰∫∫":"Êñ∞Â¢ûËÅØÁµ°‰∫∫"}),(0,N.jsx)(s.default,{style:I.inputLabel,children:"ÂßìÂêç *"}),(0,N.jsx)(O.default,{style:I.input,value:F,onChangeText:D,placeholder:"Ë´ãËº∏ÂÖ•ÂßìÂêç"}),(0,N.jsx)(s.default,{style:I.inputLabel,children:"ÈõªË©±"}),(0,N.jsx)(O.default,{style:I.input,value:H,onChangeText:U,placeholder:"Ë´ãËº∏ÂÖ•ÈõªË©±ËôüÁ¢º",keyboardType:"phone-pad"}),(0,N.jsx)(s.default,{style:I.inputLabel,children:"LINE ID"}),(0,N.jsx)(O.default,{style:I.input,value:Y,onChangeText:q,placeholder:"Ë´ãËº∏ÂÖ• LINE ID (ÈÅ∏Â°´)",autoCapitalize:"none"}),(0,N.jsxs)(d.default,{style:I.modalButtons,children:[(0,N.jsx)(S.default,{style:[I.modalButton,I.cancelButton],onPress:function(){return E(!1)},children:(0,N.jsx)(s.default,{style:I.cancelButtonText,children:"ÂèñÊ∂à"})}),(0,N.jsx)(S.default,{style:[I.modalButton,I.saveButton],onPress:re,disabled:X,children:X?(0,N.jsx)(y.default,{color:C.COLORS.white}):(0,N.jsx)(s.default,{style:I.saveButtonText,children:"ÂÑ≤Â≠ò"})})]})]})})})]})})}},45791(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(34951)),c=r(n(68444)),f=r(n(94650)),S=r(n(37043)),g=r(n(15782)),h=r(n(36430)),O=r(n(54081)),y=n(52929),m=n(81858),p=n(64186),C=n(74848),x=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:m.SPACING.lg,paddingTop:m.SPACING.lg,paddingBottom:m.SPACING.md},backButton:{padding:m.SPACING.sm},backIcon:{fontSize:m.FONTS.size.xxl,color:m.COLORS.textPrimary},headerTitle:{fontSize:m.FONTS.size.xl,fontWeight:m.FONTS.bold,color:m.COLORS.textPrimary},placeholder:{width:40},infoContainer:{paddingHorizontal:m.SPACING.lg,paddingBottom:m.SPACING.lg},infoText:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,lineHeight:1.5*m.FONTS.size.sm},scrollView:{flex:1},scrollContent:{paddingHorizontal:m.SPACING.lg,paddingBottom:m.SPACING.xxxl},channelCard:Object.assign({backgroundColor:m.COLORS.cardBackground,borderRadius:m.RADIUS.lg,padding:m.SPACING.lg,marginBottom:m.SPACING.md},m.SHADOWS.sm),channelHeader:{flexDirection:"row",alignItems:"center"},channelIcon:{fontSize:28,marginRight:m.SPACING.md},channelInfo:{flex:1},channelTitleRow:{flexDirection:"row",alignItems:"center"},channelName:{fontSize:m.FONTS.size.lg,fontWeight:m.FONTS.semiBold,color:m.COLORS.textPrimary,marginRight:m.SPACING.sm},verifiedBadge:{backgroundColor:m.COLORS.success,paddingHorizontal:m.SPACING.sm,paddingVertical:2,borderRadius:m.RADIUS.sm},verifiedText:{fontSize:m.FONTS.size.xs,color:m.COLORS.white},channelDesc:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,marginTop:m.SPACING.xs},channelValue:{fontSize:m.FONTS.size.sm,color:m.COLORS.primary,marginTop:m.SPACING.xs},disconnectButton:{marginTop:m.SPACING.md,paddingTop:m.SPACING.md,borderTopWidth:1,borderTopColor:m.COLORS.gray200,alignItems:"center"},disconnectText:{fontSize:m.FONTS.size.sm,color:m.COLORS.danger},noticeContainer:{backgroundColor:m.COLORS.gray100,borderRadius:m.RADIUS.lg,padding:m.SPACING.lg,marginTop:m.SPACING.lg},noticeTitle:{fontSize:m.FONTS.size.md,fontWeight:m.FONTS.semiBold,color:m.COLORS.textPrimary,marginBottom:m.SPACING.sm},noticeText:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,marginTop:m.SPACING.xs,lineHeight:1.5*m.FONTS.size.sm},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",paddingHorizontal:m.SPACING.xl},modalContent:{backgroundColor:m.COLORS.white,borderRadius:m.RADIUS.xl,padding:m.SPACING.xl,width:"100%"},modalTitle:{fontSize:m.FONTS.size.xl,fontWeight:m.FONTS.bold,color:m.COLORS.textPrimary,textAlign:"center",marginBottom:m.SPACING.sm},modalDesc:{fontSize:m.FONTS.size.md,color:m.COLORS.textSecondary,textAlign:"center",marginBottom:m.SPACING.lg},modalInput:{borderWidth:1,borderColor:m.COLORS.gray300,borderRadius:m.RADIUS.md,paddingHorizontal:m.SPACING.md,paddingVertical:m.SPACING.md,fontSize:m.FONTS.size.lg,color:m.COLORS.textPrimary,textAlign:"center"},modalButtons:{flexDirection:"row",marginTop:m.SPACING.xl,gap:m.SPACING.md},cancelButton:{flex:1,paddingVertical:m.SPACING.md,borderRadius:m.RADIUS.md,borderWidth:1,borderColor:m.COLORS.gray300,alignItems:"center"},cancelButtonText:{fontSize:m.FONTS.size.md,color:m.COLORS.textSecondary},confirmButton:{flex:1,paddingVertical:m.SPACING.md,borderRadius:m.RADIUS.md,backgroundColor:m.COLORS.primary,alignItems:"center"},confirmButtonText:{fontSize:m.FONTS.size.md,color:m.COLORS.white,fontWeight:m.FONTS.semiBold}});t.default=function(){var e,t=(0,o.useState)([{id:"push",name:p.NOTIFICATION_CHANNELS.PUSH.name,icon:"üîî",description:p.NOTIFICATION_CHANNELS.PUSH.description,enabled:!0,verified:!0},{id:"email",name:p.NOTIFICATION_CHANNELS.EMAIL.name,icon:"üìß",description:p.NOTIFICATION_CHANNELS.EMAIL.description,enabled:!1,verified:!1,value:""},{id:"line",name:p.NOTIFICATION_CHANNELS.LINE.name,icon:"üíö",description:p.NOTIFICATION_CHANNELS.LINE.description,enabled:!1,verified:!1},{id:"sms",name:p.NOTIFICATION_CHANNELS.SMS.name,icon:"üí¨",description:p.NOTIFICATION_CHANNELS.SMS.description,enabled:!1,verified:!1,value:""}]),n=(0,l.default)(t,2),r=n[0],s=n[1],T=(0,o.useState)(!1),N=(0,l.default)(T,2),I=N[0],b=N[1],j=(0,o.useState)(!1),v=(0,l.default)(j,2),A=v[0],P=v[1],R=(0,o.useState)(""),L=(0,l.default)(R,2),E=L[0],_=L[1],k=(0,o.useState)(""),z=(0,l.default)(k,2),w=z[0],B=z[1],G=(e=(0,a.default)(function*(){var e;O.default.alert("ÈÄ£Êé• LINE Notify","Â∞áÈñãÂïü LINE ÊéàÊ¨äÈ†ÅÈù¢ÔºåÂÆåÊàêÂæåÂç≥ÂèØÊé•Êî∂ÈÄöÁü•„ÄÇ",[{text:"ÂèñÊ∂à",style:"cancel"},{text:"ÂâçÂæÄÈÄ£Êé•",onPress:(e=(0,a.default)(function*(){s(function(e){return e.map(function(e){return"line"===e.id?Object.assign({},e,{enabled:!0,verified:!0}):e})}),O.default.alert("ÊàêÂäü","LINE Notify Â∑≤ÈÄ£Êé•")}),function(){return e.apply(this,arguments)})}])}),function(){return e.apply(this,arguments)}),F=function(e,t){if(!e)return"";if("email"===t){var n=e.split("@"),r=(0,l.default)(n,2),a=r[0],o=r[1];return a.length<=3?`${a[0]}***@${o}`:`${a.slice(0,3)}***@${o}`}return e.replace(/(\d{4})(\d{3})(\d{3})/,"$1****$3")};return(0,C.jsx)(y.GradientBackground,{variant:"light",children:(0,C.jsxs)(c.default,{style:x.container,children:[(0,C.jsxs)(i.default,{style:x.header,children:[(0,C.jsx)(f.default,{style:x.backButton,children:(0,C.jsx)(d.default,{style:x.backIcon,children:"‚Üê"})}),(0,C.jsx)(d.default,{style:x.headerTitle,children:"ÈÄöÁü•Ë®≠ÂÆö"}),(0,C.jsx)(i.default,{style:x.placeholder})]}),(0,C.jsx)(i.default,{style:x.infoContainer,children:(0,C.jsx)(d.default,{style:x.infoText,children:"ÈÅ∏ÊìáÊÇ®Â∏åÊúõÊé•Êî∂ÈÄöÁü•ÁöÑÊ∏†ÈÅì„ÄÇÁï∂Á∑äÊÄ•ËÅØÁµ°‰∫∫ÈúÄË¶ÅË¢´ÈÄöÁü•ÊôÇÔºåÁ≥ªÁµ±Â∞áÈÄèÈÅéÈÄô‰∫õÊ∏†ÈÅìÁôºÈÄÅË®äÊÅØ„ÄÇ"})}),(0,C.jsxs)(u.default,{style:x.scrollView,contentContainerStyle:x.scrollContent,showsVerticalScrollIndicator:!1,children:[r.map(function(e){return(0,C.jsxs)(i.default,{style:x.channelCard,children:[(0,C.jsxs)(i.default,{style:x.channelHeader,children:[(0,C.jsx)(d.default,{style:x.channelIcon,children:e.icon}),(0,C.jsxs)(i.default,{style:x.channelInfo,children:[(0,C.jsxs)(i.default,{style:x.channelTitleRow,children:[(0,C.jsx)(d.default,{style:x.channelName,children:e.name}),e.verified&&(0,C.jsx)(i.default,{style:x.verifiedBadge,children:(0,C.jsx)(d.default,{style:x.verifiedText,children:"Â∑≤È©óË≠â"})})]}),(0,C.jsx)(d.default,{style:x.channelDesc,children:e.description}),e.value&&(0,C.jsx)(d.default,{style:x.channelValue,children:F(e.value,"email"===e.id?"email":"phone")})]}),(0,C.jsx)(S.default,{value:e.enabled,onValueChange:function(){return function(e){var t=r.find(function(t){return t.id===e});if(t){if(!t.verified&&!t.enabled)switch(e){case"email":return void b(!0);case"sms":return void P(!0);case"line":return void G()}s(function(t){return t.map(function(t){return t.id===e?Object.assign({},t,{enabled:!t.enabled}):t})})}}(e.id)},trackColor:{false:m.COLORS.gray300,true:m.COLORS.primaryLight},thumbColor:e.enabled?m.COLORS.primary:m.COLORS.gray400})]}),e.verified&&"push"!==e.id&&(0,C.jsx)(f.default,{style:x.disconnectButton,onPress:function(){return t=e.id,void O.default.alert("Á¢∫Ë™çÂèñÊ∂àÁ∂ÅÂÆö","ÂèñÊ∂àÁ∂ÅÂÆöÂæåÂ∞áÁÑ°Ê≥ïÈÄèÈÅéÊ≠§Ê∏†ÈÅìÊé•Êî∂ÈÄöÁü•ÔºåÁ¢∫ÂÆöË¶ÅÁπºÁ∫åÂóéÔºü",[{text:"ÂèñÊ∂à",style:"cancel"},{text:"Á¢∫ÂÆö",style:"destructive",onPress:function(){s(function(e){return e.map(function(e){return e.id===t?Object.assign({},e,{enabled:!1,verified:!1,value:""}):e})})}}]);var t},children:(0,C.jsx)(d.default,{style:x.disconnectText,children:"ÂèñÊ∂àÁ∂ÅÂÆö"})})]},e.id)}),(0,C.jsxs)(i.default,{style:x.noticeContainer,children:[(0,C.jsx)(d.default,{style:x.noticeTitle,children:"üìå Ê≥®ÊÑè‰∫ãÈ†Ö"}),(0,C.jsx)(d.default,{style:x.noticeText,children:"‚Ä¢ Âª∫Ë≠∞Ëá≥Â∞ëÂïüÁî®ÂÖ©Á®ÆÈÄöÁü•Ê∏†ÈÅì‰ª•Á¢∫‰øùË®äÊÅØÈÄÅÈÅî"}),(0,C.jsx)(d.default,{style:x.noticeText,children:"‚Ä¢ LINE Notify ÊØèÊúàÊúâÁôºÈÄÅÊï∏ÈáèÈôêÂà∂"}),(0,C.jsx)(d.default,{style:x.noticeText,children:"‚Ä¢ Á∞°Ë®äÈÄöÁü•ÂèØËÉΩÁî¢ÁîüÈ°çÂ§ñË≤ªÁî®"})]})]}),(0,C.jsx)(h.default,{visible:I,animationType:"slide",transparent:!0,onRequestClose:function(){return b(!1)},children:(0,C.jsx)(i.default,{style:x.modalOverlay,children:(0,C.jsxs)(i.default,{style:x.modalContent,children:[(0,C.jsx)(d.default,{style:x.modalTitle,children:"Ë®≠ÂÆöÈõªÂ≠êÈÉµÁÆ±"}),(0,C.jsx)(d.default,{style:x.modalDesc,children:"Ë´ãËº∏ÂÖ•Áî®ÊñºÊé•Êî∂ÈÄöÁü•ÁöÑÈõªÂ≠êÈÉµÁÆ±Âú∞ÂùÄ"}),(0,C.jsx)(g.default,{style:x.modalInput,value:E,onChangeText:_,placeholder:"example@email.com",placeholderTextColor:m.COLORS.textLight,keyboardType:"email-address",autoCapitalize:"none"}),(0,C.jsxs)(i.default,{style:x.modalButtons,children:[(0,C.jsx)(f.default,{style:x.cancelButton,onPress:function(){return b(!1)},children:(0,C.jsx)(d.default,{style:x.cancelButtonText,children:"ÂèñÊ∂à"})}),(0,C.jsx)(f.default,{style:x.confirmButton,onPress:function(){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)?(s(function(e){return e.map(function(e){return"email"===e.id?Object.assign({},e,{value:E,verified:!0,enabled:!0}):e})}),b(!1),O.default.alert("ÊàêÂäü","ÈõªÂ≠êÈÉµÁÆ±Â∑≤Ë®≠ÂÆöÔºåÈ©óË≠âÈÉµ‰ª∂Â∑≤ÁôºÈÄÅ")):O.default.alert("ÈåØË™§","Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÈõªÂ≠êÈÉµÁÆ±Âú∞ÂùÄ")},children:(0,C.jsx)(d.default,{style:x.confirmButtonText,children:"Á¢∫Ë™ç"})})]})]})})}),(0,C.jsx)(h.default,{visible:A,animationType:"slide",transparent:!0,onRequestClose:function(){return P(!1)},children:(0,C.jsx)(i.default,{style:x.modalOverlay,children:(0,C.jsxs)(i.default,{style:x.modalContent,children:[(0,C.jsx)(d.default,{style:x.modalTitle,children:"Ë®≠ÂÆöÊâãÊ©üËôüÁ¢º"}),(0,C.jsx)(d.default,{style:x.modalDesc,children:"Ë´ãËº∏ÂÖ•Áî®ÊñºÊé•Êî∂Á∞°Ë®äÈÄöÁü•ÁöÑÊâãÊ©üËôüÁ¢º"}),(0,C.jsx)(g.default,{style:x.modalInput,value:w,onChangeText:B,placeholder:"0912345678",placeholderTextColor:m.COLORS.textLight,keyboardType:"phone-pad",maxLength:10}),(0,C.jsxs)(i.default,{style:x.modalButtons,children:[(0,C.jsx)(f.default,{style:x.cancelButton,onPress:function(){return P(!1)},children:(0,C.jsx)(d.default,{style:x.cancelButtonText,children:"ÂèñÊ∂à"})}),(0,C.jsx)(f.default,{style:x.confirmButton,onPress:function(){/^09\d{8}$/.test(w)?(s(function(e){return e.map(function(e){return"sms"===e.id?Object.assign({},e,{value:w,verified:!0,enabled:!0}):e})}),P(!1),O.default.alert("ÊàêÂäü","Á∞°Ë®äÈÄöÁü•Â∑≤Ë®≠ÂÆö")):O.default.alert("ÈåØË™§","Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÊâãÊ©üËôüÁ¢ºÔºà09XXXXXXXXÔºâ")},children:(0,C.jsx)(d.default,{style:x.confirmButtonText,children:"Á¢∫Ë™ç"})})]})]})})})]})})}},49748(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(34951)),c=r(n(68444)),f=r(n(94650)),S=r(n(54081)),g=r(n(15782)),h=r(n(36430)),O=r(n(25470)),y=r(n(67862)),m=n(52929),p=n(81858),C=n(64186),x=n(69742),T=n(76352),N=n(76513),I=n(74848),b=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:p.SPACING.lg,paddingTop:p.SPACING.lg,paddingBottom:p.SPACING.md},headerTitle:{fontSize:p.FONTS.size.xxl,fontWeight:p.FONTS.bold,color:p.COLORS.textPrimary},settingsButton:{padding:p.SPACING.sm},settingsIcon:{fontSize:p.FONTS.size.xxl},scrollView:{flex:1},scrollContent:{paddingHorizontal:p.SPACING.lg,paddingBottom:p.SPACING.xxxl},dateText:{fontSize:p.FONTS.size.sm,color:p.COLORS.textSecondary,textAlign:"center",marginBottom:p.SPACING.sm},statusHint:{fontSize:p.FONTS.size.md,color:p.COLORS.textSecondary,textAlign:"center",marginBottom:p.SPACING.xxl},checkInContainer:{alignItems:"center",marginVertical:p.SPACING.xxl},lastCheckInText:{marginTop:p.SPACING.lg,fontSize:p.FONTS.size.sm,color:p.COLORS.textSecondary},sloganContainer:{alignItems:"center",marginBottom:p.SPACING.xxl},slogan:{fontSize:p.FONTS.size.lg,fontWeight:p.FONTS.medium,color:p.COLORS.primary,marginBottom:p.SPACING.xs},sloganEn:{fontSize:p.FONTS.size.sm,color:p.COLORS.textLight},cardsContainer:{gap:p.SPACING.md},card:{marginBottom:p.SPACING.md},statusBadge:{width:28,height:28,borderRadius:14,alignItems:"center",justifyContent:"center"},statusBadgeSuccess:{backgroundColor:p.COLORS.success},statusBadgeWarning:{backgroundColor:p.COLORS.warning},statusBadgeText:{color:p.COLORS.white,fontSize:p.FONTS.size.md,fontWeight:p.FONTS.bold},arrowIcon:{fontSize:p.FONTS.size.xxl,color:p.COLORS.textLight},footer:{paddingHorizontal:p.SPACING.lg,paddingVertical:p.SPACING.lg,alignItems:"center"},footerText:{fontSize:p.FONTS.size.xs,color:p.COLORS.textLight,textAlign:"center",marginBottom:p.SPACING.sm},footerLinks:{flexDirection:"row",alignItems:"center"},footerLink:{fontSize:p.FONTS.size.xs,color:p.COLORS.primary},footerDivider:{fontSize:p.FONTS.size.xs,color:p.COLORS.textLight,marginHorizontal:p.SPACING.xs},footerCopyright:{fontSize:p.FONTS.size.xs,color:p.COLORS.textLight,marginTop:p.SPACING.xs,fontWeight:"bold"},guestFormCard:Object.assign({backgroundColor:p.COLORS.white,borderRadius:p.RADIUS.lg,padding:p.SPACING.lg,marginBottom:p.SPACING.md},p.SHADOWS.md),guestFormTitle:{fontSize:p.FONTS.size.lg,fontWeight:p.FONTS.bold,color:p.COLORS.textPrimary,marginBottom:p.SPACING.xs},guestFormSubtitle:{fontSize:p.FONTS.size.sm,color:p.COLORS.textSecondary,marginBottom:p.SPACING.md},guestInput:{backgroundColor:p.COLORS.background,borderRadius:p.RADIUS.md,padding:p.SPACING.md,marginBottom:p.SPACING.sm,fontSize:p.FONTS.size.md,borderWidth:1,borderColor:p.COLORS.gray300,color:p.COLORS.textPrimary},guestButton:{backgroundColor:p.COLORS.primary,borderRadius:p.RADIUS.md,padding:p.SPACING.md,alignItems:"center",marginTop:p.SPACING.sm},guestButtonText:{color:p.COLORS.white,fontWeight:p.FONTS.bold,fontSize:p.FONTS.size.md},modalOverlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",padding:p.SPACING.lg},modalContent:Object.assign({backgroundColor:p.COLORS.white,borderRadius:p.RADIUS.lg,padding:p.SPACING.xl},p.SHADOWS.lg),modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:p.SPACING.md},modalTitle:{fontSize:p.FONTS.size.xl,fontWeight:p.FONTS.bold,color:p.COLORS.textPrimary},modalSubtitle:{fontSize:p.FONTS.size.sm,color:p.COLORS.textSecondary,marginBottom:p.SPACING.lg,lineHeight:20},closeButton:{padding:p.SPACING.xs},closeButtonText:{fontSize:p.FONTS.size.lg,color:p.COLORS.textLight},inputLabel:{fontSize:p.FONTS.size.sm,color:p.COLORS.textSecondary,marginBottom:p.SPACING.xs,marginTop:p.SPACING.sm}});t.default=function(){var e=(0,N.useNavigation)(),t=(0,T.useAuth)(),n=t.user,r=t.guestLogin,s=(0,o.useState)(!1),j=(0,l.default)(s,2),v=j[0],A=j[1],P=(0,o.useState)(null),R=(0,l.default)(P,2),L=R[0],E=R[1],_=(0,o.useState)(!1),k=(0,l.default)(_,2),z=k[0],w=k[1],B=(0,o.useState)(""),G=(0,l.default)(B,2),F=G[0],D=G[1],M=(0,o.useState)(""),W=(0,l.default)(M,2),H=W[0],U=W[1],V=(0,o.useState)(null),K=(0,l.default)(V,2),Y=K[0],q=K[1],$=(0,o.useState)(!1),J=(0,l.default)($,2),X=J[0],Z=J[1];o.default.useEffect(function(){x.checkinService.getToken().then(function(e){return q(e)})},[n]);var Q,ee,te=(0,o.useCallback)(function(){if(!n)return Z(!0),!1;var t=!!n.email||!!n.phoneNumber||!!n.lineId;return console.log("Profile Check:",{email:!!n.email,phone:!!n.phoneNumber,line:!!n.lineId,result:t}),!!t||(S.default.alert("ÈúÄË¶ÅÁ∂ÅÂÆöË≥áÊñô",`ÁÇ∫‰∫ÜËÉΩÂ§†ÂÆåÊàêÁ∞ΩÂà∞ÔºåË´ãËá≥Â∞ëÁ∂ÅÂÆö‰∏ÄÁ®ÆËÅØÁµ°ÊñπÂºèÔºö\n1. ÊâãÊ©üËôüÁ¢º ${n.phoneNumber?"(Â∑≤Á∂ÅÂÆö)":"(Êú™Á∂ÅÂÆö)"}\n2. Email ${n.email?"(Â∑≤Á∂ÅÂÆö)":"(Êú™Á∂ÅÂÆö)"}\n3. LINE ID ${n.lineId?"(Â∑≤Á∂ÅÂÆö)":"(Êú™Á∂ÅÂÆö)"}`,[{text:"Á®çÂæåÂÜçË™™",style:"cancel"},{text:"ÂâçÂæÄË®≠ÂÆöÈ†Å",onPress:function(){return e.navigate("Profile")}}]),!1)},[n,e]),ne=(0,o.useCallback)((0,a.default)(function*(){if(te())if(v)S.default.alert("Â∑≤Á∞ΩÂà∞","ÊÇ®‰ªäÂ§©Â∑≤Á∂ìÂÆåÊàêÁ∞ΩÂà∞‰∫ÜÔºÅ");else{w(!0);try{var t,n,r,a=yield x.checkinService.createCheckIn();a.data?(A(!0),E(new Date(a.data.checkIn.timestamp)),S.default.alert("Á∞ΩÂà∞ÊàêÂäüÔºÅ","ÊÇ®ÁöÑÂπ≥ÂÆâÂ∑≤Ë®òÈåÑ„ÄÇ",[{text:"Á¢∫ÂÆö",style:"default"}])):"PROFILE_INCOMPLETE"===(null==(t=a.error)?void 0:t.code)?S.default.alert("Ë≥áÊñôÊú™ÂÆåÂñÑ (‰º∫ÊúçÂô®ÂõûÊáâ)","Á∞ΩÂà∞ÂâçË´ãËá≥Â∞ëÁ∂ÅÂÆö‰∏ÄÈ†ÖËÅØÁµ°ÊñπÂºè (ÊâãÊ©ü„ÄÅEmail Êàñ LINE)Ôºå‰ª•Á¢∫‰øùÁ∑äÊÄ•ÊôÇÂàªËÉΩÈÄöÁü•Âà∞ÊÇ®„ÄÇ",[{text:"Á®çÂæåÂÜçË™™",style:"cancel"},{text:"ÂâçÂæÄÁ∂ÅÂÆö",onPress:function(){return e.navigate("Profile")}}]):S.default.alert("Á∞ΩÂà∞Â§±Êïó",`ÈåØË™§‰ª£Á¢º: ${null==(n=a.error)?void 0:n.code}\nË®äÊÅØ: ${null==(r=a.error)?void 0:r.message}`,[{text:"Á¢∫ÂÆö",style:"cancel"}])}catch(e){S.default.alert("ÁôºÁîü‰æãÂ§ñÈåØË™§",e.message)}finally{w(!1)}}}),[v,te]),re=(Q=(0,a.default)(function*(){if(F)if(F.length<8)S.default.alert("ÊèêÁ§∫","Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÊâãÊ©üËôüÁ¢º");else{w(!0);try{var e=yield r(F,H);e.success?(Z(!1),D(""),U(""),S.default.alert("Ê≠°Ëøé","Â∑≤Ëá™ÂãïÁôªÂÖ•ÔºÅË´ãÂÜçÊ¨°ÈªûÊìä„ÄåÁ∞ΩÂà∞„ÄçÊåâÈàï‰ª•ÂÆåÊàê‰ªäÊó•Á∞ΩÂà∞„ÄÇ",[{text:"Â•Ω",onPress:function(){return ne()}}])):S.default.alert("ÁôªÂÖ•Â§±Êïó",e.error)}catch(e){S.default.alert("ÈåØË™§","ÁôºÁîüÊú™È†êÊúüÁöÑÈåØË™§")}finally{w(!1)}}else S.default.alert("ÊèêÁ§∫","Ë´ãËº∏ÂÖ•ÊâãÊ©üËôüÁ¢º")}),function(){return Q.apply(this,arguments)});return(0,I.jsx)(m.GradientBackground,{variant:"light",children:(0,I.jsxs)(c.default,{style:b.container,children:[(0,I.jsxs)(i.default,{style:b.header,children:[(0,I.jsx)(d.default,{style:b.headerTitle,children:"‰ªäÊó•ÁãÄÊÖã"}),(0,I.jsx)(f.default,{style:b.settingsButton,onPress:function(){return e.navigate("Profile")},children:(0,I.jsx)(d.default,{style:b.settingsIcon,children:"‚öôÔ∏è"})})]}),(0,I.jsxs)(u.default,{style:b.scrollView,contentContainerStyle:b.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,I.jsx)(d.default,{style:b.dateText,children:(new Date).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),(0,I.jsx)(d.default,{style:b.statusHint,children:v?"‰ªäÊó•Â∑≤Á∞ΩÂà∞ÔºåÈ°òÊÇ®Âπ≥ÂÆâÈ†ÜÂøÉ ‚ú®":"Á≥ªÁµ±Â∞áÊØèÊó•Á∞ΩÂà∞Ë®òÈåÑÊÇ®ÁöÑÂπ≥ÂÆâÁãÄÊÖã"}),(0,I.jsxs)(i.default,{style:b.checkInContainer,children:[(0,I.jsx)(m.CheckInButton,{isCheckedIn:v,onPress:ne,disabled:z}),L&&(0,I.jsxs)(d.default,{style:b.lastCheckInText,children:["ÊúÄÂæåÁ∞ΩÂà∞Ôºö",(ee=L,ee?ee.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}):"Â∞öÊú™Á∞ΩÂà∞")]})]}),(0,I.jsxs)(i.default,{style:b.sloganContainer,children:[(0,I.jsx)(d.default,{style:b.slogan,children:C.APP_INFO.SLOGAN}),(0,I.jsx)(d.default,{style:b.sloganEn,children:"Daily check-in, all is well"})]}),(0,I.jsxs)(i.default,{style:b.cardsContainer,children:[(0,I.jsx)(m.StatusCard,{title:"ÂÆâÂÖ®ÁãÄÊÖã",subtitle:v?"ÁãÄÊÖãÂÆâÂÖ®":"ÂæÖÁ∞ΩÂà∞",variant:v?"success":"warning",rightContent:(0,I.jsx)(i.default,{style:[b.statusBadge,v?b.statusBadgeSuccess:b.statusBadgeWarning],children:(0,I.jsx)(d.default,{style:b.statusBadgeText,children:v?"‚úì":"!"})}),style:b.card}),n&&n.id?(0,I.jsx)(m.StatusCard,{title:"Á∑äÊÄ•ËÅØÁµ°‰∫∫",subtitle:"ÁÆ°ÁêÜËÅØÁµ°‰∫∫",variant:"danger",onPress:function(){return e.navigate("Profile")},rightContent:(0,I.jsx)(d.default,{style:b.arrowIcon,children:"‚Ä∫"}),style:b.card}):(0,I.jsx)(m.StatusCard,{title:"Ë®™ÂÆ¢Ê®°Âºè",subtitle:"Â∞öÊú™ÂïüÁî® (ÈªûÊìäÁ∞ΩÂà∞‰ª•ÂïüÁî®)",variant:"warning",onPress:function(){return Z(!0)},rightContent:(0,I.jsx)(d.default,{style:b.arrowIcon,children:"‚Ä∫"}),style:b.card}),(0,I.jsx)(m.StatusCard,{title:"ÊúÄËøëÊé®ÈÄÅË®äÊÅØ",subtitle:"‰ªäÂ§© ¬∑ Á∞ΩÂà∞ÊèêÈÜíÂ∑≤ÁôºÈÄÅ",variant:"info",style:b.card})]})]}),(0,I.jsxs)(i.default,{style:b.footer,children:[(0,I.jsx)(d.default,{style:b.footerText,children:"Â§öÊó•Êú™Á∞ΩÂà∞ÔºåÁ≥ªÁµ±Â∞á‰ª•‰Ω†ÁöÑÂêçÁæ©ÔºåÁµ¶ÊÇ®Ë®≠ÂÆöÁöÑÁ∑äÊÄ•ËÅØÁµ°‰∫∫ÁôºÈÄÅÈÄöÁü•"}),(0,I.jsxs)(i.default,{style:b.footerLinks,children:[(0,I.jsx)(f.default,{children:(0,I.jsx)(d.default,{style:b.footerLink,children:"Áî®Êà∂ÂçîË≠∞"})}),(0,I.jsx)(d.default,{style:b.footerDivider,children:"Âíå"}),(0,I.jsx)(f.default,{children:(0,I.jsx)(d.default,{style:b.footerLink,children:"Èö±ÁßÅÊîøÁ≠ñ"})})]}),(0,I.jsx)(d.default,{style:b.footerCopyright,children:"¬© 2026 ALIVE. All rights reserved. (Build: 2026.01.23-LAZY-V1)"}),(0,I.jsxs)(i.default,{style:{marginTop:20,padding:10,backgroundColor:"#eee",borderRadius:8},children:[(0,I.jsx)(d.default,{style:{fontWeight:"bold"},children:"DEBUG INFO"}),(0,I.jsxs)(d.default,{style:{fontSize:10,fontFamily:"monospace"},children:["UID: ",(null==n?void 0:n.id)||"null"," | Name: ",(null==n?void 0:n.name)||"null"]}),(0,I.jsxs)(d.default,{style:{fontSize:10,fontFamily:"monospace"},children:["Email: ",null!=n&&n.email?"YES":"NO"," | Phone: ",null!=n&&n.phoneNumber?"YES":"NO"," | Line: ",null!=n&&n.lineId?"YES":"NO"]}),(0,I.jsxs)(d.default,{style:{fontSize:10,fontFamily:"monospace"},children:["CheckIn: ",v?"TRUE":"FALSE"," | Token: ",Y?"YES":"NO"]})]})]}),(0,I.jsx)(h.default,{visible:X,transparent:!0,animationType:"slide",onRequestClose:function(){return Z(!1)},children:(0,I.jsx)(O.default,{behavior:"ios"===y.default.OS?"padding":"height",style:b.modalOverlay,children:(0,I.jsxs)(i.default,{style:b.modalContent,children:[(0,I.jsxs)(i.default,{style:b.modalHeader,children:[(0,I.jsx)(d.default,{style:b.modalTitle,children:"Ë®™ÂÆ¢Âø´ÈÄüÁ∞ΩÂà∞"}),(0,I.jsx)(f.default,{onPress:function(){return Z(!1)},style:b.closeButton,children:(0,I.jsx)(d.default,{style:b.closeButtonText,children:"‚úï"})})]}),(0,I.jsx)(d.default,{style:b.modalSubtitle,children:"Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑÊâãÊ©üËôüÁ¢º‰ª•Á∂ÅÂÆöË∫´‰ªΩ„ÄÇ\\nÂÉÖÈúÄËº∏ÂÖ•‰∏ÄÊ¨°ÔºåÁ≥ªÁµ±Â∞áËá™ÂãïË®òÈåÑ„ÄÇ"}),(0,I.jsx)(d.default,{style:b.inputLabel,children:"ÊâãÊ©üËôüÁ¢º (ÂøÖÂ°´)"}),(0,I.jsx)(g.default,{style:b.guestInput,placeholder:"‰æãÔºö0912345678",placeholderTextColor:p.COLORS.textLight,value:F,onChangeText:D,keyboardType:"phone-pad"}),(0,I.jsx)(d.default,{style:b.inputLabel,children:"ÊÇ®ÁöÑÁ®±Âëº (ÈÅ∏Â°´)"}),(0,I.jsx)(g.default,{style:b.guestInput,placeholder:"‰æãÔºöÈô≥ÂÖàÁîü/Â∞èÂßê",placeholderTextColor:p.COLORS.textLight,value:H,onChangeText:U}),(0,I.jsx)(f.default,{style:b.guestButton,onPress:re,disabled:z,children:z?(0,I.jsx)(d.default,{style:b.guestButtonText,children:"ËôïÁêÜ‰∏≠..."}):(0,I.jsx)(d.default,{style:b.guestButtonText,children:"Á¢∫Ë™ç‰∏¶Á∞ΩÂà∞"})})]})})})]})})}},50291(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(68444)),c=r(n(94650)),f=r(n(15782)),S=r(n(54081)),g=r(n(34951)),h=r(n(92869)),O=n(52929),y=n(81858),m=n(76513),p=n(69742),C=n(74848),x=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:y.SPACING.lg,paddingTop:y.SPACING.lg,paddingBottom:y.SPACING.md},backButton:{padding:y.SPACING.sm},backIcon:{fontSize:y.FONTS.size.xxl,color:y.COLORS.textPrimary},headerTitle:{fontSize:y.FONTS.size.xl,fontWeight:y.FONTS.bold,color:y.COLORS.textPrimary},content:{flex:1,padding:y.SPACING.lg},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},section:{marginBottom:y.SPACING.xxl},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:y.SPACING.sm},sectionTitle:{fontSize:y.FONTS.size.lg,fontWeight:y.FONTS.bold,color:y.COLORS.textPrimary,marginBottom:y.SPACING.sm},card:Object.assign({backgroundColor:y.COLORS.white,borderRadius:y.RADIUS.md,padding:y.SPACING.md},y.SHADOWS.sm),messageText:{fontSize:y.FONTS.size.md,color:y.COLORS.textPrimary,lineHeight:24},placeholderText:{color:y.COLORS.textSecondary,fontStyle:"italic"},hintText:{fontSize:y.FONTS.size.sm,color:y.COLORS.textSecondary,marginTop:y.SPACING.xs},input:Object.assign({backgroundColor:y.COLORS.white,borderRadius:y.RADIUS.md,padding:y.SPACING.md,height:120,fontSize:y.FONTS.size.md,borderWidth:1,borderColor:y.COLORS.primary},y.SHADOWS.sm),editLink:{color:y.COLORS.primary,fontSize:y.FONTS.size.md,fontWeight:y.FONTS.bold},saveLink:{color:y.COLORS.success,fontSize:y.FONTS.size.md,fontWeight:y.FONTS.bold}});t.default=function(){var e=(0,m.useNavigation)(),t=(0,o.useState)("ÊàëÈï∑ÊôÇÈñìÊú™Á∞ΩÂà∞ÔºåÂèØËÉΩÁôºÁîüÊÑèÂ§ñÔºåË´ãÂòóË©¶ËÅØÁπ´ÊàëÊàñÂçîÂä©Á¢∫Ë™çÊàëÁöÑÂÆâÂÖ®„ÄÇ"),n=(0,l.default)(t,2),r=n[0],s=(n[1],(0,o.useState)("")),T=(0,l.default)(s,2),N=T[0],I=T[1],b=(0,o.useState)(!1),j=(0,l.default)(b,2),v=j[0],A=j[1],P=(0,o.useState)(!1),R=(0,l.default)(P,2),L=R[0],E=R[1],_=(0,o.useState)(!1),k=(0,l.default)(_,2),z=k[0],w=k[1];o.default.useEffect(function(){F()},[]);var B,G,F=(B=(0,a.default)(function*(){E(!0);try{var e=yield p.messageService.getTemplates(),t=e.data,n=e.error;if(null!=t&&t.templates){var r=t.templates.find(function(e){return"custom"===e.type});r&&I(r.content)}else n&&console.log("Load templates error:",n)}catch(e){console.error(e)}finally{E(!1)}}),function(){return B.apply(this,arguments)}),D=(G=(0,a.default)(function*(){if(N.trim()){w(!0);var e=yield p.messageService.saveTemplate({type:"custom",content:N.trim()}),t=e.data,n=e.error;w(!1),t?(A(!1),S.default.alert("ÊàêÂäü","Ë®äÊÅØÊ®°ÊùøÂ∑≤ÂÑ≤Â≠ò")):S.default.alert("ÈåØË™§",(null==n?void 0:n.message)||"ÂÑ≤Â≠òÂ§±Êïó")}else S.default.alert("ÊèêÁ§∫","Ë´ãËº∏ÂÖ•ÂÖßÂÆπ")}),function(){return G.apply(this,arguments)});return(0,C.jsx)(O.GradientBackground,{variant:"light",children:(0,C.jsxs)(u.default,{style:x.container,children:[(0,C.jsxs)(i.default,{style:x.header,children:[(0,C.jsx)(c.default,{style:x.backButton,onPress:function(){return e.goBack()},children:(0,C.jsx)(d.default,{style:x.backIcon,children:"‚Üê"})}),(0,C.jsx)(d.default,{style:x.headerTitle,children:"Ë®äÊÅØÊ®°Êùø"}),(0,C.jsx)(i.default,{style:{width:40}})]}),L?(0,C.jsx)(i.default,{style:x.loadingContainer,children:(0,C.jsx)(h.default,{size:"large",color:y.COLORS.primary})}):(0,C.jsxs)(g.default,{style:x.content,children:[(0,C.jsxs)(i.default,{style:x.section,children:[(0,C.jsx)(d.default,{style:x.sectionTitle,children:"È†êË®≠ÈÄöÁü•Ë®äÊÅØ"}),(0,C.jsx)(i.default,{style:x.card,children:(0,C.jsx)(d.default,{style:x.messageText,children:r})}),(0,C.jsx)(d.default,{style:x.hintText,children:"Ê≠§ÁÇ∫Á≥ªÁµ±È†êË®≠ÁöÑÁ∑äÊÄ•ÈÄöÁü•ÂÖßÂÆπ„ÄÇ"})]}),(0,C.jsxs)(i.default,{style:x.section,children:[(0,C.jsxs)(i.default,{style:x.sectionHeader,children:[(0,C.jsx)(d.default,{style:x.sectionTitle,children:"Ëá™Ë®ÇÈÄöÁü•Ë®äÊÅØ"}),v?(0,C.jsx)(c.default,{onPress:D,disabled:z,children:(0,C.jsx)(d.default,{style:[x.saveLink,z&&{opacity:.5}],children:z?"ÂÑ≤Â≠ò‰∏≠...":"ÂÆåÊàê"})}):(0,C.jsx)(c.default,{onPress:function(){return A(!0)},children:(0,C.jsx)(d.default,{style:x.editLink,children:"Á∑®ËºØ"})})]}),v?(0,C.jsx)(f.default,{style:x.input,value:N,onChangeText:I,multiline:!0,placeholder:"Ë´ãËº∏ÂÖ•ÊÇ®ÊÉ≥Â∞çÁ∑äÊÄ•ËÅØÁµ°‰∫∫Ë™™ÁöÑË©±...",textAlignVertical:"top"}):(0,C.jsx)(i.default,{style:x.card,children:(0,C.jsx)(d.default,{style:[x.messageText,!N&&x.placeholderText],children:N||"ÈªûÊìäÁ∑®ËºØ‰ª•Ë®≠ÂÆöËá™Ë®ÇË®äÊÅØ..."})}),(0,C.jsx)(d.default,{style:x.hintText,children:"Ëá™Ë®ÇË®äÊÅØÂ∞áÈôÑÂä†Âú®È†êË®≠Ë®äÊÅØ‰πãÂæåÁôºÈÄÅ„ÄÇ"})]})]})]})})}},52929(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CheckInButton",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"GradientBackground",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"StatusCard",{enumerable:!0,get:function(){return l.default}});var a=r(n(27699)),l=r(n(90442)),o=r(n(21633))},58749(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(41132)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(34951)),c=r(n(68444)),f=r(n(94650)),S=r(n(37043)),g=r(n(15782)),h=r(n(36430)),O=r(n(54081)),y=n(52929),m=n(81858),p=n(74848),C=[{id:"rule_1",userId:"current_user",name:"ÈÄ£Á∫åÊú™Á∞ΩÂà∞ 2 Â§©",description:"Áï∂ÈÄ£Á∫å 2 Â§©Êú™Á∞ΩÂà∞ÊôÇÔºåÈÄöÁü•ÊâÄÊúâÁ∑äÊÄ•ËÅØÁµ°‰∫∫",condition:{type:"missed_checkin",days:2},isEnabled:!0,notifyContacts:["all"],createdAt:new Date,updatedAt:new Date},{id:"rule_2",userId:"current_user",name:"ÈÄ£Á∫åÊú™Á∞ΩÂà∞ 7 Â§©",description:"Áï∂ÈÄ£Á∫å 7 Â§©Êú™Á∞ΩÂà∞ÊôÇÔºåÁôºÈÄÅÁ∑äÊÄ•Ë≠¶Â†±",condition:{type:"missed_checkin",days:7},isEnabled:!1,notifyContacts:["all"],createdAt:new Date,updatedAt:new Date}],x=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:m.SPACING.lg,paddingTop:m.SPACING.lg,paddingBottom:m.SPACING.md},backButton:{padding:m.SPACING.sm},backIcon:{fontSize:m.FONTS.size.xxl,color:m.COLORS.textPrimary},headerTitle:{fontSize:m.FONTS.size.xl,fontWeight:m.FONTS.bold,color:m.COLORS.textPrimary},addButton:{width:36,height:36,borderRadius:18,backgroundColor:m.COLORS.primary,alignItems:"center",justifyContent:"center"},addIcon:{fontSize:m.FONTS.size.xl,color:m.COLORS.white,fontWeight:m.FONTS.bold},infoContainer:{paddingHorizontal:m.SPACING.lg,paddingBottom:m.SPACING.lg},infoText:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,lineHeight:1.5*m.FONTS.size.sm},scrollView:{flex:1},scrollContent:{paddingHorizontal:m.SPACING.lg,paddingBottom:m.SPACING.xxxl},ruleCard:Object.assign({backgroundColor:m.COLORS.cardBackground,borderRadius:m.RADIUS.lg,padding:m.SPACING.lg,marginBottom:m.SPACING.md},m.SHADOWS.sm),ruleContent:{marginBottom:m.SPACING.md},ruleHeader:{flexDirection:"row",alignItems:"flex-start"},ruleIcon:{width:44,height:44,borderRadius:22,backgroundColor:m.COLORS.warning+"20",alignItems:"center",justifyContent:"center",marginRight:m.SPACING.md},ruleIconText:{fontSize:20},ruleInfo:{flex:1},ruleName:{fontSize:m.FONTS.size.lg,fontWeight:m.FONTS.semiBold,color:m.COLORS.textPrimary,marginBottom:m.SPACING.xs},ruleDesc:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,lineHeight:1.4*m.FONTS.size.sm},ruleActions:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:m.SPACING.md,borderTopWidth:1,borderTopColor:m.COLORS.gray200},deleteButton:{padding:m.SPACING.sm},deleteIcon:{fontSize:18},emptyContainer:{alignItems:"center",paddingTop:m.SPACING.huge},emptyIcon:{fontSize:60,marginBottom:m.SPACING.lg},emptyText:{fontSize:m.FONTS.size.lg,fontWeight:m.FONTS.medium,color:m.COLORS.textPrimary,marginBottom:m.SPACING.sm},emptyHint:{fontSize:m.FONTS.size.md,color:m.COLORS.textSecondary,textAlign:"center"},tipContainer:{backgroundColor:m.COLORS.info+"15",borderRadius:m.RADIUS.lg,padding:m.SPACING.lg,marginTop:m.SPACING.lg},tipTitle:{fontSize:m.FONTS.size.md,fontWeight:m.FONTS.semiBold,color:m.COLORS.info,marginBottom:m.SPACING.sm},tipText:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,lineHeight:1.5*m.FONTS.size.sm},modalOverlay:{flex:1,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",paddingHorizontal:m.SPACING.xl},modalContent:{backgroundColor:m.COLORS.white,borderRadius:m.RADIUS.xl,padding:m.SPACING.xl,width:"100%"},modalTitle:{fontSize:m.FONTS.size.xl,fontWeight:m.FONTS.bold,color:m.COLORS.textPrimary,textAlign:"center",marginBottom:m.SPACING.xl},inputGroup:{marginBottom:m.SPACING.lg},inputLabel:{fontSize:m.FONTS.size.sm,color:m.COLORS.textSecondary,marginBottom:m.SPACING.sm},input:{borderWidth:1,borderColor:m.COLORS.gray300,borderRadius:m.RADIUS.md,paddingHorizontal:m.SPACING.md,paddingVertical:m.SPACING.md,fontSize:m.FONTS.size.md,color:m.COLORS.textPrimary},daysInputContainer:{flexDirection:"row",alignItems:"center"},daysInput:{flex:1,textAlign:"center"},daysUnit:{fontSize:m.FONTS.size.lg,color:m.COLORS.textSecondary,marginLeft:m.SPACING.md},inputHint:{fontSize:m.FONTS.size.xs,color:m.COLORS.textLight,marginTop:m.SPACING.sm},modalButtons:{flexDirection:"row",marginTop:m.SPACING.lg,gap:m.SPACING.md},cancelButton:{flex:1,paddingVertical:m.SPACING.md,borderRadius:m.RADIUS.md,borderWidth:1,borderColor:m.COLORS.gray300,alignItems:"center"},cancelButtonText:{fontSize:m.FONTS.size.md,color:m.COLORS.textSecondary},saveButton:{flex:1,paddingVertical:m.SPACING.md,borderRadius:m.RADIUS.md,backgroundColor:m.COLORS.primary,alignItems:"center"},saveButtonText:{fontSize:m.FONTS.size.md,color:m.COLORS.white,fontWeight:m.FONTS.semiBold}});t.default=function(){var e=(0,o.useState)(C),t=(0,l.default)(e,2),n=t[0],r=t[1],s=(0,o.useState)(!1),T=(0,l.default)(s,2),N=T[0],I=T[1],b=(0,o.useState)(null),j=(0,l.default)(b,2),v=j[0],A=j[1],P=(0,o.useState)(""),R=(0,l.default)(P,2),L=R[0],E=R[1],_=(0,o.useState)(""),k=(0,l.default)(_,2),z=k[0],w=k[1],B=function(){I(!1),A(null),E(""),w("")};return(0,p.jsx)(y.GradientBackground,{variant:"light",children:(0,p.jsxs)(c.default,{style:x.container,children:[(0,p.jsxs)(i.default,{style:x.header,children:[(0,p.jsx)(f.default,{style:x.backButton,children:(0,p.jsx)(d.default,{style:x.backIcon,children:"‚Üê"})}),(0,p.jsx)(d.default,{style:x.headerTitle,children:"Áï∞Â∏∏Ë¶èÂâá"}),(0,p.jsx)(f.default,{style:x.addButton,onPress:function(){A(null),E(""),w(""),I(!0)},children:(0,p.jsx)(d.default,{style:x.addIcon,children:"Ôºã"})})]}),(0,p.jsx)(i.default,{style:x.infoContainer,children:(0,p.jsx)(d.default,{style:x.infoText,children:"Ë®≠ÂÆöËß∏ÁôºÁ∑äÊÄ•ÈÄöÁü•ÁöÑÊ¢ù‰ª∂„ÄÇÁï∂Á¨¶ÂêàË¶èÂâáÊ¢ù‰ª∂ÊôÇÔºåÁ≥ªÁµ±ÊúÉËá™ÂãïÈÄöÁü•ÊÇ®ÁöÑÁ∑äÊÄ•ËÅØÁµ°‰∫∫„ÄÇ"})}),(0,p.jsxs)(u.default,{style:x.scrollView,contentContainerStyle:x.scrollContent,showsVerticalScrollIndicator:!1,children:[0===n.length?(0,p.jsxs)(i.default,{style:x.emptyContainer,children:[(0,p.jsx)(d.default,{style:x.emptyIcon,children:"üìã"}),(0,p.jsx)(d.default,{style:x.emptyText,children:"Â∞öÊú™Ë®≠ÂÆö‰ªª‰ΩïË¶èÂâá"}),(0,p.jsx)(d.default,{style:x.emptyHint,children:"ÈªûÊìäÂè≥‰∏äËßí Ôºã Ê∑ªÂä†ÊÇ®ÁöÑÁ¨¨‰∏ÄÂÄãÁï∞Â∏∏Ë¶èÂâá"})]}):n.map(function(e){return(0,p.jsxs)(i.default,{style:x.ruleCard,children:[(0,p.jsx)(f.default,{style:x.ruleContent,onPress:function(){return function(e){var t;A(e),E(e.name),w((null==(t=e.condition.days)?void 0:t.toString())||""),I(!0)}(e)},activeOpacity:.7,children:(0,p.jsxs)(i.default,{style:x.ruleHeader,children:[(0,p.jsx)(i.default,{style:x.ruleIcon,children:(0,p.jsx)(d.default,{style:x.ruleIconText,children:"‚ö†Ô∏è"})}),(0,p.jsxs)(i.default,{style:x.ruleInfo,children:[(0,p.jsx)(d.default,{style:x.ruleName,children:e.name}),(0,p.jsx)(d.default,{style:x.ruleDesc,children:e.description})]})]})}),(0,p.jsxs)(i.default,{style:x.ruleActions,children:[(0,p.jsx)(S.default,{value:e.isEnabled,onValueChange:function(){return t=e.id,void r(function(e){return e.map(function(e){return e.id===t?Object.assign({},e,{isEnabled:!e.isEnabled}):e})});var t},trackColor:{false:m.COLORS.gray300,true:m.COLORS.primaryLight},thumbColor:e.isEnabled?m.COLORS.primary:m.COLORS.gray400}),(0,p.jsx)(f.default,{style:x.deleteButton,onPress:function(){return function(e){O.default.alert("Á¢∫Ë™çÂà™Èô§",`Á¢∫ÂÆöË¶ÅÂà™Èô§„Äå${e.name}„ÄçÂóéÔºü`,[{text:"ÂèñÊ∂à",style:"cancel"},{text:"Âà™Èô§",style:"destructive",onPress:function(){r(function(t){return t.filter(function(t){return t.id!==e.id})})}}])}(e)},children:(0,p.jsx)(d.default,{style:x.deleteIcon,children:"üóëÔ∏è"})})]})]},e.id)}),n.length>0&&(0,p.jsxs)(i.default,{style:x.tipContainer,children:[(0,p.jsx)(d.default,{style:x.tipTitle,children:"üí° Â∞èÊèêÁ§∫"}),(0,p.jsx)(d.default,{style:x.tipText,children:"Âª∫Ë≠∞Ë®≠ÂÆöÂ§öÂÄã‰∏çÂêåÂ§©Êï∏ÁöÑË¶èÂâáÔºå‰æãÂ¶ÇÔºö2Â§©ÊôÇÁôºÈÄÅÊèêÈÜíÔºå7Â§©ÊôÇÁôºÈÄÅÁ∑äÊÄ•Ë≠¶Â†±„ÄÇ"})]})]}),(0,p.jsx)(h.default,{visible:N,animationType:"slide",transparent:!0,onRequestClose:B,children:(0,p.jsx)(i.default,{style:x.modalOverlay,children:(0,p.jsxs)(i.default,{style:x.modalContent,children:[(0,p.jsx)(d.default,{style:x.modalTitle,children:v?"Á∑®ËºØË¶èÂâá":"Êñ∞Â¢ûË¶èÂâá"}),(0,p.jsxs)(i.default,{style:x.inputGroup,children:[(0,p.jsx)(d.default,{style:x.inputLabel,children:"Ë¶èÂâáÂêçÁ®±"}),(0,p.jsx)(g.default,{style:x.input,value:L,onChangeText:E,placeholder:"‰æãÂ¶ÇÔºöÈÄ£Á∫åÊú™Á∞ΩÂà∞ 3 Â§©",placeholderTextColor:m.COLORS.textLight})]}),(0,p.jsxs)(i.default,{style:x.inputGroup,children:[(0,p.jsx)(d.default,{style:x.inputLabel,children:"Êú™Á∞ΩÂà∞Â§©Êï∏"}),(0,p.jsxs)(i.default,{style:x.daysInputContainer,children:[(0,p.jsx)(g.default,{style:[x.input,x.daysInput],value:z,onChangeText:w,placeholder:"2",placeholderTextColor:m.COLORS.textLight,keyboardType:"numeric",maxLength:2}),(0,p.jsx)(d.default,{style:x.daysUnit,children:"Â§©"})]}),(0,p.jsxs)(d.default,{style:x.inputHint,children:["Áï∂ÈÄ£Á∫å ",z||"?"," Â§©Êú™Á∞ΩÂà∞ÊôÇËß∏ÁôºÈÄöÁü•"]})]}),(0,p.jsxs)(i.default,{style:x.modalButtons,children:[(0,p.jsx)(f.default,{style:x.cancelButton,onPress:B,children:(0,p.jsx)(d.default,{style:x.cancelButtonText,children:"ÂèñÊ∂à"})}),(0,p.jsx)(f.default,{style:x.saveButton,onPress:function(){var e=parseInt(z,10);if(L.trim())if(isNaN(e)||e<1||e>30)O.default.alert("ÈåØË™§","Â§©Êï∏ÂøÖÈ†àÂú® 1-30 ‰πãÈñì");else{if(v)r(function(t){return t.map(function(t){return t.id===v.id?Object.assign({},t,{name:L,description:`Áï∂ÈÄ£Á∫å ${e} Â§©Êú™Á∞ΩÂà∞ÊôÇÔºåÈÄöÁü•ÊâÄÊúâÁ∑äÊÄ•ËÅØÁµ°‰∫∫`,condition:{type:"missed_checkin",days:e},updatedAt:new Date}):t})});else{var t={id:`rule_${Date.now()}`,userId:"current_user",name:L,description:`Áï∂ÈÄ£Á∫å ${e} Â§©Êú™Á∞ΩÂà∞ÊôÇÔºåÈÄöÁü•ÊâÄÊúâÁ∑äÊÄ•ËÅØÁµ°‰∫∫`,condition:{type:"missed_checkin",days:e},isEnabled:!0,notifyContacts:["all"],createdAt:new Date,updatedAt:new Date};r(function(e){return[].concat((0,a.default)(e),[t])})}B(),O.default.alert("ÊàêÂäü","Áï∞Â∏∏Ë¶èÂâáÂ∑≤ÂÑ≤Â≠ò")}else O.default.alert("ÈåØË™§","Ë´ãËº∏ÂÖ•Ë¶èÂâáÂêçÁ®±")},children:(0,p.jsx)(d.default,{style:x.saveButtonText,children:"ÂÑ≤Â≠ò"})})]})]})})})]})})}},63922(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715));n(55714);var o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(97576)),d=r(n(9176)),s=r(n(78506)),u=r(n(43999)),c=r(n(92869)),f=n(16623),S=n(81858),g=n(64186),h=n(76352),O=n(74848),y=u.default.create({splashContainer:{flex:1,backgroundColor:S.COLORS.primary,alignItems:"center",justifyContent:"center"},logoContainer:{alignItems:"center",marginBottom:60},logoEmoji:{fontSize:80,marginBottom:20},appName:{fontSize:S.FONTS.size.display,fontWeight:S.FONTS.bold,color:S.COLORS.white,marginBottom:8},slogan:{fontSize:S.FONTS.size.lg,color:S.COLORS.white,opacity:.8,marginBottom:8},loader:{marginTop:20},errorText:{fontSize:S.FONTS.size.md,color:S.COLORS.danger,textAlign:"center",paddingHorizontal:40}});t.default=function(){var e=(0,o.useState)(!1),t=(0,l.default)(e,2),n=t[0],r=t[1],u=(0,o.useState)(null),m=(0,l.default)(u,2),p=m[0],C=m[1];return(0,o.useEffect)(function(){var e,t=(e=(0,a.default)(function*(){try{yield new Promise(function(e){return setTimeout(e,1e3)}),r(!0)}catch(e){console.error("ÂàùÂßãÂåñÂ§±Êïó:",e),C(e.message||"ÊáâÁî®Á®ãÂºèÂàùÂßãÂåñÂ§±Êïó")}}),function(){return e.apply(this,arguments)});t()},[]),n?(0,O.jsxs)(h.AuthProvider,{children:[(0,O.jsx)(i.default,{barStyle:"dark-content",backgroundColor:"transparent",translucent:!0}),(0,O.jsx)(f.AppNavigator,{})]}):(0,O.jsxs)(d.default,{style:y.splashContainer,children:[(0,O.jsx)(i.default,{barStyle:"light-content",backgroundColor:S.COLORS.primary}),(0,O.jsxs)(d.default,{style:y.logoContainer,children:[(0,O.jsx)(s.default,{style:y.logoEmoji,children:"üòä"}),(0,O.jsx)(s.default,{style:y.appName,children:g.APP_INFO.NAME}),(0,O.jsx)(s.default,{style:y.slogan,children:g.APP_INFO.SLOGAN})]}),p?(0,O.jsx)(s.default,{style:y.errorText,children:p}):(0,O.jsx)(c.default,{size:"large",color:S.COLORS.white,style:y.loader})]})}},64186(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STORAGE_KEYS=t.ROUTES=t.NOTIFICATION_CHANNELS=t.FIREBASE_COLLECTIONS=t.EMERGENCY_CONTACT_LIMITS=t.DEFAULT_MESSAGE_TEMPLATES=t.DEFAULT_CHECK_IN_SETTINGS=t.APP_INFO=void 0;var n=t.APP_INFO={NAME:"ALIVEÊÑõ‰æÜ",VERSION:"1.0.0",BUILD_NUMBER:1,SLOGAN:"ÊØèÊó•‰∏ÄÈñãÔºåÂπ≥ÂÆâÂ∑≤ÈÅî",DESCRIPTION:"ËÆìÈóúÂøÉÊÇ®ÁöÑ‰∫∫Áü•ÈÅìÊÇ®Âπ≥ÂÆâ"},r=t.DEFAULT_CHECK_IN_SETTINGS={INTERVAL_DAYS:2,GRACE_HOURS:4,REMINDER_TIME:"09:00"},a=t.EMERGENCY_CONTACT_LIMITS={MAX_CONTACTS:5,MIN_CONTACTS:1},l=t.DEFAULT_MESSAGE_TEMPLATES={CHECK_IN:{title:"Âπ≥ÂÆâÂ†±Âà∞",content:"ÊàëÊòØ [ÂßìÂêç]ÔºåÊàëÂæàÂ•ΩÔºå‰ªäÂ§©Â∑≤ÂÆåÊàêÁ∞ΩÂà∞„ÄÇ"},EMERGENCY:{title:"Á∑äÊÄ•ÊèêÈÜí",content:"ÊàëÊòØ [ÂßìÂêç]ÔºåÊàëÂ∑≤Á∂ìÈÄ£Á∫å [Â§©Êï∏] Â§©Ê≤íÊúâÊ¥ªÂãï‰∫ÜÔºåÂø´‰æÜÊ™¢Êü•‰∏ãÊàëÁöÑË∫´È´îÁãÄÊÖã„ÄÇ"},REMINDER:{title:"Á∞ΩÂà∞ÊèêÈÜí",content:"ÊÇ®‰ªäÂ§©ÈÇÑÊ≤íÊúâÁ∞ΩÂà∞ÔºåË´ãË®òÂæóÊâìÈñã ALIVEÊÑõ‰æÜ Â†±Âπ≥ÂÆâ„ÄÇ"}},o=t.NOTIFICATION_CHANNELS={LINE:{id:"line",name:"LINE Notify",icon:"chatbubble-ellipses",description:"ÈÄèÈÅé LINE Êé•Êî∂ÈÄöÁü•"},EMAIL:{id:"email",name:"Email",icon:"mail",description:"ÈÄèÈÅéÈõªÂ≠êÈÉµ‰ª∂Êé•Êî∂ÈÄöÁü•"},SMS:{id:"sms",name:"Á∞°Ë®ä",icon:"chatbox",description:"ÈÄèÈÅéÁ∞°Ë®äÊé•Êî∂ÈÄöÁü•"},PUSH:{id:"push",name:"Êé®Êí≠ÈÄöÁü•",icon:"notifications",description:"ÈÄèÈÅé APP Êé®Êí≠Êé•Êî∂ÈÄöÁü•"}},i=t.STORAGE_KEYS={USER_TOKEN:"@alive_user_token",USER_DATA:"@alive_user_data",CHECK_IN_SETTINGS:"@alive_checkin_settings",NOTIFICATION_SETTINGS:"@alive_notification_settings",LAST_CHECK_IN:"@alive_last_checkin",ONBOARDING_COMPLETED:"@alive_onboarding_completed"},d=t.FIREBASE_COLLECTIONS={USERS:"users",CHECK_INS:"check_ins",EMERGENCY_CONTACTS:"emergency_contacts",MESSAGE_TEMPLATES:"message_templates",ANOMALY_RULES:"anomaly_rules",NOTIFICATIONS:"notifications"},s=t.ROUTES={SPLASH:"Splash",AUTH:"Auth",LOGIN:"Login",REGISTER:"Register",MAIN:"Main",HOME:"Home",SETTINGS:"Settings",EMERGENCY_CONTACTS:"EmergencyContacts",ADD_EMERGENCY_CONTACT:"AddEmergencyContact",NOTIFICATION_SETTINGS:"NotificationSettings",MESSAGE_TEMPLATES:"MessageTemplates",ANOMALY_RULES:"AnomalyRules",PROFILE:"Profile"};t.default={APP_INFO:n,DEFAULT_CHECK_IN_SETTINGS:r,EMERGENCY_CONTACT_LIMITS:a,DEFAULT_MESSAGE_TEMPLATES:l,NOTIFICATION_CHANNELS:o,STORAGE_KEYS:i,FIREBASE_COLLECTIONS:d,ROUTES:s}},64635(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.AuthScreen=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(15782)),u=r(n(94650)),c=r(n(43999)),f=r(n(92869)),S=r(n(25470)),g=r(n(67862)),h=r(n(34951)),O=r(n(54081)),y=n(81858),m=n(76352),p=n(74848);t.AuthScreen=function(){var e,t,n=(0,m.useAuth)(),r=n.login,c=n.register,x=(0,o.useState)(!0),T=(0,l.default)(x,2),N=T[0],I=T[1],b=(0,o.useState)(!1),j=(0,l.default)(b,2),v=j[0],A=j[1],P=(0,o.useState)(""),R=(0,l.default)(P,2),L=R[0],E=R[1],_=(0,o.useState)(""),k=(0,l.default)(_,2),z=k[0],w=k[1],B=(0,o.useState)(""),G=(0,l.default)(B,2),F=G[0],D=G[1],M=(0,o.useState)(""),W=(0,l.default)(M,2),H=W[0],U=W[1],V=(e=(0,a.default)(function*(){if(L&&z){A(!0);var e=yield r(L,z);A(!1),e.success||O.default.alert("ÁôªÂÖ•Â§±Êïó",e.error||"Ë´ãÊ™¢Êü•ÊÇ®ÁöÑÂ∏≥ËôüÂØÜÁ¢º")}else O.default.alert("ÈåØË™§","Ë´ãËº∏ÂÖ• Email ÂíåÂØÜÁ¢º")}),function(){return e.apply(this,arguments)}),K=(t=(0,a.default)(function*(){if(L&&z&&F)if(z.length<8)O.default.alert("ÈåØË™§","ÂØÜÁ¢ºÂøÖÈ†àËá≥Â∞ë 8 ÂÄãÂ≠óÂÖÉ");else{A(!0);var e=yield c(L,z,F,H);A(!1),e.success||O.default.alert("Ë®ªÂÜäÂ§±Êïó",e.error||"Ë´ãÁ®çÂæåÂÜçË©¶")}else O.default.alert("ÈåØË™§","Ë´ãÂ°´ÂØ´ÊâÄÊúâÂøÖÂ°´Ê¨Ñ‰Ωç")}),function(){return t.apply(this,arguments)});return(0,p.jsx)(S.default,{style:C.container,behavior:"ios"===g.default.OS?"padding":void 0,children:(0,p.jsxs)(h.default,{contentContainerStyle:C.scrollContent,children:[(0,p.jsxs)(i.default,{style:C.header,children:[(0,p.jsx)(d.default,{style:C.logo,children:"üòä"}),(0,p.jsx)(d.default,{style:C.title,children:"ALIVE ÊÑõ‰æÜ"}),(0,p.jsx)(d.default,{style:C.subtitle,children:"ÂÆâÂÖ®Á∞ΩÂà∞ÔºåÂÆàË≠∑ÂΩºÊ≠§"})]}),(0,p.jsxs)(i.default,{style:C.form,children:[(0,p.jsx)(d.default,{style:C.formTitle,children:N?"ÁôªÂÖ•":"Ë®ªÂÜä"}),!N&&(0,p.jsx)(s.default,{style:C.input,placeholder:"ÂßìÂêç",value:F,onChangeText:D,placeholderTextColor:y.COLORS.textSecondary}),(0,p.jsx)(s.default,{style:C.input,placeholder:"Email",value:L,onChangeText:E,keyboardType:"email-address",autoCapitalize:"none",placeholderTextColor:y.COLORS.textSecondary}),(0,p.jsx)(s.default,{style:C.input,placeholder:"ÂØÜÁ¢ºÔºàËá≥Â∞ë 8 ÂÄãÂ≠óÂÖÉÔºâ",value:z,onChangeText:w,secureTextEntry:!0,placeholderTextColor:y.COLORS.textSecondary}),!N&&(0,p.jsx)(s.default,{style:C.input,placeholder:"ÈõªË©±ÔºàÈÅ∏Â°´Ôºâ",value:H,onChangeText:U,keyboardType:"phone-pad",placeholderTextColor:y.COLORS.textSecondary}),(0,p.jsx)(u.default,{style:[C.button,v&&C.buttonDisabled],onPress:N?V:K,disabled:v,children:v?(0,p.jsx)(f.default,{color:y.COLORS.white}):(0,p.jsx)(d.default,{style:C.buttonText,children:N?"ÁôªÂÖ•":"Ë®ªÂÜä"})}),(0,p.jsx)(u.default,{style:C.switchButton,onPress:function(){I(!N),E(""),w(""),D(""),U("")},children:(0,p.jsxs)(d.default,{style:C.switchText,children:[N?"ÈÇÑÊ≤íÊúâÂ∏≥ËôüÔºü":"Â∑≤Á∂ìÊúâÂ∏≥ËôüÔºü",(0,p.jsx)(d.default,{style:C.switchTextBold,children:N?" Á´ãÂç≥Ë®ªÂÜä":" ÁôªÂÖ•"})]})})]})]})})};var C=c.default.create({container:{flex:1,backgroundColor:y.COLORS.background},scrollContent:{flexGrow:1,justifyContent:"center",padding:y.SPACING.xl},header:{alignItems:"center",marginBottom:y.SPACING.xxl},logo:{fontSize:80,marginBottom:y.SPACING.md},title:{fontSize:y.FONTS.size.xxl,fontWeight:y.FONTS.bold,color:y.COLORS.primary,marginBottom:y.SPACING.xs},subtitle:{fontSize:y.FONTS.size.md,color:y.COLORS.textSecondary},form:{width:"100%",maxWidth:400,alignSelf:"center"},formTitle:{fontSize:y.FONTS.size.xl,fontWeight:y.FONTS.bold,color:y.COLORS.textPrimary,marginBottom:y.SPACING.lg,textAlign:"center"},input:{backgroundColor:y.COLORS.white,borderRadius:12,padding:y.SPACING.md,marginBottom:y.SPACING.md,fontSize:y.FONTS.size.md,borderWidth:1,borderColor:y.COLORS.gray200},button:{backgroundColor:y.COLORS.primary,borderRadius:12,padding:y.SPACING.md,alignItems:"center",marginTop:y.SPACING.md},buttonDisabled:{opacity:.6},buttonText:{color:y.COLORS.white,fontSize:y.FONTS.size.md,fontWeight:y.FONTS.semiBold},switchButton:{marginTop:y.SPACING.lg,alignItems:"center"},switchText:{fontSize:y.FONTS.size.md,color:y.COLORS.textSecondary},switchTextBold:{color:y.COLORS.primary,fontWeight:y.FONTS.semiBold}})},64906(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(34951)),c=r(n(68444)),f=r(n(94650)),S=r(n(15782)),g=r(n(54081)),h=n(52929),O=n(69742),y=n(64186),m=n(81858),p=n(74848),C=s.default.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:m.SPACING.lg},backButton:{padding:m.SPACING.sm},backIcon:{fontSize:24,color:m.COLORS.white},headerTitle:{fontSize:18,color:m.COLORS.white,fontWeight:"bold"},placeholder:{width:40},scrollView:{flex:1},scrollContent:{padding:m.SPACING.lg,paddingBottom:100},section:{marginBottom:m.SPACING.xl},sectionHeader:{flexDirection:"row",alignItems:"center",marginBottom:m.SPACING.sm},sectionIcon:{fontSize:18,marginRight:8},sectionTitle:{fontSize:16,color:m.COLORS.white,fontWeight:"bold"},card:{backgroundColor:m.COLORS.cardBackground,borderRadius:m.RADIUS.lg,padding:m.SPACING.lg},field:{marginBottom:m.SPACING.md},fieldLabel:{color:m.COLORS.textSecondary,marginBottom:4,fontSize:12},input:{backgroundColor:m.COLORS.white,borderRadius:8,padding:12,borderWidth:1,borderColor:"#ddd"},saveButton:{backgroundColor:m.COLORS.black,padding:16,borderRadius:8,alignItems:"center",marginTop:8},saveButtonText:{color:m.COLORS.white,fontWeight:"bold"},contactItem:{backgroundColor:"rgba(255,255,255,0.9)",padding:12,borderRadius:8,marginBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},contactName:{fontWeight:"bold",fontSize:16,color:"#333"},contactPhone:{fontSize:14,color:"#666"},deleteButton:{backgroundColor:"#ff4444",paddingHorizontal:12,paddingVertical:6,borderRadius:4},deleteText:{color:"white",fontSize:12}});t.default=function(){var e=(0,o.useState)(y.DEFAULT_CHECK_IN_SETTINGS.INTERVAL_DAYS.toString()),t=(0,l.default)(e,2),n=t[0],r=t[1],s=(0,o.useState)([]),x=(0,l.default)(s,2),T=x[0],N=x[1],I=(0,o.useState)(""),b=(0,l.default)(I,2),j=b[0],v=b[1],A=(0,o.useState)(""),P=(0,l.default)(A,2),R=P[0],L=P[1],E=(0,o.useState)(""),_=(0,l.default)(E,2),k=_[0],z=_[1],w=(0,o.useState)(!1),B=(0,l.default)(w,2),G=B[0],F=B[1];o.default.useEffect(function(){H()},[]);var D,M,W,H=(D=(0,a.default)(function*(){try{var e=yield O.contactsService.getAll();e.data&&N(e.data.contacts)}catch(e){console.error("Load contacts failed:",e)}}),function(){return D.apply(this,arguments)}),U=(M=(0,a.default)(function*(){if(j.trim()&&k.trim())if(T.length>=5)g.default.alert("ÈôêÂà∂","ÊúÄÂ§öÂè™ËÉΩÊñ∞Â¢û 5 ‰ΩçÁ∑äÊÄ•ËÅØÁµ°‰∫∫");else{F(!0);try{var e,t=yield O.contactsService.create({name:j,phoneNumber:k,email:R,priority:T.length+1});t.data?(g.default.alert("ÊàêÂäü","ËÅØÁµ°‰∫∫Â∑≤Êñ∞Â¢û"),v(""),z(""),L(""),H()):g.default.alert("Â§±Êïó",(null==(e=t.error)?void 0:e.message)||"Êñ∞Â¢ûÂ§±Êïó")}catch(e){g.default.alert("ÈåØË™§","ÈÄ£Á∑öÁôºÁîüÂïèÈ°å")}finally{F(!1)}}else g.default.alert("ÈåØË™§","Ë´ãËº∏ÂÖ•ËÅØÁµ°‰∫∫ÂßìÂêçÂíåÈõªË©±")}),function(){return M.apply(this,arguments)}),V=(W=(0,a.default)(function*(e){try{yield O.contactsService.delete(e),g.default.alert("ÊàêÂäü","ËÅØÁµ°‰∫∫Â∑≤Âà™Èô§"),H()}catch(e){g.default.alert("ÈåØË™§","Âà™Èô§Â§±Êïó")}}),function(e){return W.apply(this,arguments)});return(0,p.jsx)(h.GradientBackground,{variant:"primary",children:(0,p.jsxs)(c.default,{style:C.container,children:[(0,p.jsxs)(i.default,{style:C.header,children:[(0,p.jsx)(f.default,{style:C.backButton,children:(0,p.jsx)(d.default,{style:C.backIcon,children:"‚Üê"})}),(0,p.jsx)(d.default,{style:C.headerTitle,children:"Ë®≠ÁΩÆ‰∏≠ÂøÉ"}),(0,p.jsx)(i.default,{style:C.placeholder})]}),(0,p.jsxs)(u.default,{style:C.scrollView,contentContainerStyle:C.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,p.jsxs)(i.default,{style:C.section,children:[(0,p.jsxs)(i.default,{style:C.sectionHeader,children:[(0,p.jsx)(d.default,{style:C.sectionIcon,children:"‚è±Ô∏è"}),(0,p.jsx)(d.default,{style:C.sectionTitle,children:"Á∞ΩÂà∞Ê©üÂà∂"})]}),(0,p.jsxs)(i.default,{style:C.card,children:[(0,p.jsx)(d.default,{style:C.fieldLabel,children:"Êú™Á∞ΩÂà∞ÈÄöÁü•Â§©Êï∏"}),(0,p.jsx)(S.default,{style:C.input,value:n,onChangeText:r,keyboardType:"numeric",placeholder:"Ëº∏ÂÖ•Â§©Êï∏",placeholderTextColor:m.COLORS.textLight})]})]}),(0,p.jsxs)(i.default,{style:C.section,children:[(0,p.jsxs)(i.default,{style:C.sectionHeader,children:[(0,p.jsx)(d.default,{style:C.sectionIcon,children:"üë•"}),(0,p.jsxs)(d.default,{style:C.sectionTitle,children:["Â∑≤Â≠òËÅØÁµ°‰∫∫ (",T.length,"/5)"]})]}),T.map(function(e){return(0,p.jsxs)(i.default,{style:C.contactItem,children:[(0,p.jsxs)(i.default,{children:[(0,p.jsx)(d.default,{style:C.contactName,children:e.name}),(0,p.jsx)(d.default,{style:C.contactPhone,children:e.phoneNumber})]}),(0,p.jsx)(f.default,{onPress:function(){return V(e.id)},style:C.deleteButton,children:(0,p.jsx)(d.default,{style:C.deleteText,children:"Âà™Èô§"})})]},e.id)})]}),(0,p.jsxs)(i.default,{style:C.section,children:[(0,p.jsxs)(i.default,{style:C.sectionHeader,children:[(0,p.jsx)(d.default,{style:C.sectionIcon,children:"‚ûï"}),(0,p.jsx)(d.default,{style:C.sectionTitle,children:"Êñ∞Â¢ûËÅØÁµ°‰∫∫"})]}),(0,p.jsxs)(i.default,{style:C.card,children:[(0,p.jsxs)(i.default,{style:C.field,children:[(0,p.jsx)(d.default,{style:C.fieldLabel,children:"ÂßìÂêç"}),(0,p.jsx)(S.default,{style:C.input,value:j,onChangeText:v,placeholder:"ÂßìÂêç",placeholderTextColor:m.COLORS.textLight})]}),(0,p.jsxs)(i.default,{style:C.field,children:[(0,p.jsx)(d.default,{style:C.fieldLabel,children:"ÈõªË©±"}),(0,p.jsx)(S.default,{style:C.input,value:k,onChangeText:z,placeholder:"ÈõªË©±",keyboardType:"phone-pad",placeholderTextColor:m.COLORS.textLight})]}),(0,p.jsxs)(i.default,{style:C.field,children:[(0,p.jsx)(d.default,{style:C.fieldLabel,children:"Email (ÈÅ∏Â°´)"}),(0,p.jsx)(S.default,{style:C.input,value:R,onChangeText:L,placeholder:"Email",keyboardType:"email-address",placeholderTextColor:m.COLORS.textLight})]}),(0,p.jsx)(f.default,{style:C.saveButton,onPress:U,disabled:G,children:(0,p.jsx)(d.default,{style:C.saveButtonText,children:G?"ËôïÁêÜ‰∏≠...":"Êñ∞Â¢ûËÅØÁµ°‰∫∫"})})]})]})]})]})})}},69742(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0});var a={authService:!0,checkinService:!0,contactsService:!0,notificationService:!0,messageService:!0};Object.defineProperty(t,"authService",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"checkinService",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"contactsService",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"messageService",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"notificationService",{enumerable:!0,get:function(){return d.default}});var l=c(n(9271));Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var o=c(n(19338));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=c(n(79318));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var d=r(n(1592)),s=n(19722);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var u=c(n(1730));function c(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(c=function(e,t){if(!t&&e&&e.__esModule)return e;var a,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?a(o,i,l):o[i]=e[i]);return o})(e,t)}Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))})},75764(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=r(n(9176)),d=r(n(78506)),s=r(n(43999)),u=r(n(34951)),c=r(n(68444)),f=r(n(94650)),S=r(n(54081)),g=r(n(15782)),h=r(n(92869)),O=n(52929),y=n(81858),m=n(64186),p=n(76352),C=n(69742),x=n(76513),T=n(74848),N=s.default.create({container:{flex:1},scrollView:{flex:1},scrollContent:{paddingHorizontal:y.SPACING.lg,paddingTop:y.SPACING.xl,paddingBottom:y.SPACING.xxxl},profileCard:Object.assign({backgroundColor:y.COLORS.cardBackground,borderRadius:y.RADIUS.xl,padding:y.SPACING.xl,alignItems:"center",marginBottom:y.SPACING.xl},y.SHADOWS.md),notLoginContainer:{alignItems:"center",padding:y.SPACING.lg},notLoginText:{fontSize:y.FONTS.size.lg,color:y.COLORS.textSecondary,marginBottom:y.SPACING.lg},loginButton:{backgroundColor:y.COLORS.primary,paddingHorizontal:y.SPACING.xl,paddingVertical:y.SPACING.md,borderRadius:y.RADIUS.lg},loginButtonText:{color:y.COLORS.white,fontSize:y.FONTS.size.md,fontWeight:y.FONTS.semiBold},avatarContainer:{position:"relative",marginBottom:y.SPACING.md},avatar:{width:80,height:80,borderRadius:40,backgroundColor:y.COLORS.primary,alignItems:"center",justifyContent:"center"},avatarText:{fontSize:32,fontWeight:y.FONTS.bold,color:y.COLORS.white},editAvatarButton:Object.assign({position:"absolute",bottom:0,right:0,width:28,height:28,borderRadius:14,backgroundColor:y.COLORS.white,alignItems:"center",justifyContent:"center"},y.SHADOWS.sm),editAvatarIcon:{fontSize:14},userName:{fontSize:y.FONTS.size.xxl,fontWeight:y.FONTS.bold,color:y.COLORS.textPrimary,marginBottom:y.SPACING.xs},userEmail:{fontSize:y.FONTS.size.md,color:y.COLORS.textSecondary,marginBottom:y.SPACING.xs},userPhone:{fontSize:y.FONTS.size.md,color:y.COLORS.textSecondary,marginBottom:y.SPACING.lg},statsContainer:{flexDirection:"row",alignItems:"center",paddingTop:y.SPACING.lg,borderTopWidth:1,borderTopColor:y.COLORS.gray200},statItem:{flex:1,alignItems:"center"},statValue:{fontSize:y.FONTS.size.title,fontWeight:y.FONTS.bold,color:y.COLORS.primary},statLabel:{fontSize:y.FONTS.size.sm,color:y.COLORS.textSecondary,marginTop:y.SPACING.xs},statDivider:{width:1,height:40,backgroundColor:y.COLORS.gray200},menuGroup:Object.assign({backgroundColor:y.COLORS.cardBackground,borderRadius:y.RADIUS.lg,marginBottom:y.SPACING.md,overflow:"hidden"},y.SHADOWS.sm),menuItem:{flexDirection:"row",alignItems:"center",padding:y.SPACING.lg},menuIcon:{fontSize:22,marginRight:y.SPACING.md,width:28,textAlign:"center"},menuContent:{flex:1},menuTitle:{fontSize:y.FONTS.size.md,fontWeight:y.FONTS.medium,color:y.COLORS.textPrimary},menuTitleDanger:{color:y.COLORS.danger},menuSubtitle:{fontSize:y.FONTS.size.sm,color:y.COLORS.textSecondary,marginTop:2},menuArrow:{fontSize:y.FONTS.size.xxl,color:y.COLORS.textLight},menuDivider:{height:1,backgroundColor:y.COLORS.gray100,marginLeft:y.SPACING.lg+28+y.SPACING.md},footer:{alignItems:"center",paddingTop:y.SPACING.xl},footerText:{fontSize:y.FONTS.size.sm,color:y.COLORS.textLight},footerCopyright:{fontSize:y.FONTS.size.xs,color:y.COLORS.textLight,marginTop:y.SPACING.xs},modalOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center",padding:y.SPACING.lg,zIndex:1e3},modalContainer:Object.assign({backgroundColor:y.COLORS.white,borderRadius:y.RADIUS.lg,padding:y.SPACING.xl,width:"100%",maxWidth:400},y.SHADOWS.lg),modalTitle:{fontSize:y.FONTS.size.xl,fontWeight:y.FONTS.bold,color:y.COLORS.textPrimary,marginBottom:y.SPACING.lg,textAlign:"center"},inputLabel:{fontSize:y.FONTS.size.sm,color:y.COLORS.textSecondary,marginBottom:y.SPACING.xs,marginTop:y.SPACING.md},input:{backgroundColor:y.COLORS.background,borderRadius:y.RADIUS.md,padding:y.SPACING.md,borderWidth:1,borderColor:y.COLORS.gray200,fontSize:y.FONTS.size.md},modalButtons:{flexDirection:"row",justifyContent:"space-between",marginTop:y.SPACING.xl,gap:y.SPACING.md},modalButton:{flex:1,paddingVertical:y.SPACING.md,borderRadius:y.RADIUS.md,alignItems:"center"},cancelButton:{backgroundColor:y.COLORS.gray100},saveButton:{backgroundColor:y.COLORS.primary},cancelButtonText:{color:y.COLORS.textPrimary,fontWeight:y.FONTS.medium},saveButtonText:{color:y.COLORS.white,fontWeight:y.FONTS.bold}});t.default=function(){var e,t,r=(0,x.useNavigation)(),s=(0,p.useAuth)(),I=s.user,b=s.logout,j=s.refreshUser,v=(0,o.useState)(!1),A=(0,l.default)(v,2),P=A[0],R=A[1],L=(0,o.useState)(""),E=(0,l.default)(L,2),_=E[0],k=E[1],z=(0,o.useState)(""),w=(0,l.default)(z,2),B=w[0],G=w[1],F=(0,o.useState)(""),D=(0,l.default)(F,2),M=D[0],W=D[1],H=(0,o.useState)(!1),U=(0,l.default)(H,2),V=U[0],K=U[1],Y=function(){k((null==I?void 0:I.name)||""),G((null==I?void 0:I.phoneNumber)||""),W((null==I?void 0:I.lineId)||""),R(!0)},q=(t=(0,a.default)(function*(){if(_){K(!0);try{var e,t=yield C.authService.updateProfile({name:_,phoneNumber:B,lineId:M});t.data?(yield j(),S.default.alert("ÊàêÂäü","ÂÄã‰∫∫Ë≥áÊñôÂ∑≤Êõ¥Êñ∞"),R(!1)):S.default.alert("Â§±Êïó",(null==(e=t.error)?void 0:e.message)||"Êõ¥Êñ∞Â§±Êïó")}catch(e){S.default.alert("ÈåØË™§",e.message||"Êõ¥Êñ∞ÁôºÁîüÈåØË™§")}finally{K(!1)}}else S.default.alert("ÈåØË™§","ÂßìÂêç‰∏çËÉΩÁÇ∫Á©∫")}),function(){return t.apply(this,arguments)}),$=[[{id:"edit_profile",icon:"üë§",title:"Á∑®ËºØÂÄã‰∫∫Ë≥áÊñô",onPress:Y,showArrow:!0},{id:"change_password",icon:"üîê",title:"‰øÆÊîπÂØÜÁ¢º",onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄ‰øÆÊîπÂØÜÁ¢º")},showArrow:!0}],[{id:"notification",icon:"üîî",title:"ÈÄöÁü•Ë®≠ÂÆö",subtitle:"ÁÆ°ÁêÜÈÄöÁü•Ê∏†ÈÅì",onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄÈÄöÁü•Ë®≠ÂÆö")},showArrow:!0},{id:"message_templates",icon:"üí¨",title:"Ë®äÊÅØÊ®°Êùø",subtitle:"Ëá™Ë®ÇÈÄöÁü•Ë®äÊÅØ",onPress:function(){return r.navigate("MessageTemplates")},showArrow:!0},{id:"anomaly_rules",icon:"‚ö†Ô∏è",title:"Áï∞Â∏∏Ë¶èÂâá",subtitle:"Ë®≠ÂÆöËß∏ÁôºÊ¢ù‰ª∂",onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄÁï∞Â∏∏Ë¶èÂâá")},showArrow:!0}],[{id:"privacy",icon:"üîí",title:"Èö±ÁßÅË®≠ÂÆö",onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄÈö±ÁßÅË®≠ÂÆö")},showArrow:!0},{id:"help",icon:"‚ùì",title:"Âπ´Âä©‰∏≠ÂøÉ",onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄÂπ´Âä©‰∏≠ÂøÉ")},showArrow:!0},{id:"about",icon:"‚ÑπÔ∏è",title:"ÈóúÊñºÊàëÂÄë",subtitle:`ÁâàÊú¨ ${m.APP_INFO.VERSION}`,onPress:function(){return S.default.alert("ÊèêÁ§∫","ÂâçÂæÄÈóúÊñºÊàëÂÄë")},showArrow:!0}],[{id:"logout",icon:"üö™",title:"ÁôªÂá∫",onPress:function(){var e;S.default.alert("Á¢∫Ë™çÁôªÂá∫","Á¢∫ÂÆöË¶ÅÁôªÂá∫ÂóéÔºü",[{text:"ÂèñÊ∂à",style:"cancel"},{text:"ÁôªÂá∫",style:"destructive",onPress:(e=(0,a.default)(function*(){yield b()}),function(){return e.apply(this,arguments)})}])},danger:!0}]],J=function(e){return(0,T.jsxs)(f.default,{style:N.menuItem,onPress:e.onPress,activeOpacity:.7,children:[(0,T.jsx)(d.default,{style:N.menuIcon,children:e.icon}),(0,T.jsxs)(i.default,{style:N.menuContent,children:[(0,T.jsx)(d.default,{style:[N.menuTitle,e.danger&&N.menuTitleDanger],children:e.title}),e.subtitle&&(0,T.jsx)(d.default,{style:N.menuSubtitle,children:e.subtitle})]}),e.showArrow&&(0,T.jsx)(d.default,{style:N.menuArrow,children:"‚Ä∫"})]},e.id)};return(0,T.jsx)(O.GradientBackground,{variant:"light",children:(0,T.jsxs)(c.default,{style:N.container,children:[(0,T.jsxs)(u.default,{style:N.scrollView,contentContainerStyle:N.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,T.jsx)(i.default,{style:N.profileCard,children:I?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(i.default,{style:N.avatarContainer,children:[(0,T.jsx)(i.default,{style:N.avatar,children:(0,T.jsx)(d.default,{style:N.avatarText,children:(null==(e=I.name)?void 0:e.charAt(0))||"?"})}),(0,T.jsx)(f.default,{style:N.editAvatarButton,onPress:Y,children:(0,T.jsx)(d.default,{style:N.editAvatarIcon,children:"‚úèÔ∏è"})})]}),(0,T.jsx)(d.default,{style:N.userName,children:I.name}),(0,T.jsx)(d.default,{style:N.userEmail,children:I.email}),I.phoneNumber&&(0,T.jsx)(d.default,{style:N.userPhone,children:I.phoneNumber}),I.lineId&&(0,T.jsxs)(d.default,{style:[N.userPhone,{color:y.COLORS.success}],children:["LINE: ",I.lineId]}),(0,T.jsxs)(i.default,{style:N.statsContainer,children:[(0,T.jsxs)(i.default,{style:N.statItem,children:[(0,T.jsx)(d.default,{style:N.statValue,children:"-"}),(0,T.jsx)(d.default,{style:N.statLabel,children:"ÈÄ£Á∫åÁ∞ΩÂà∞"})]}),(0,T.jsx)(i.default,{style:N.statDivider}),(0,T.jsxs)(i.default,{style:N.statItem,children:[(0,T.jsx)(d.default,{style:N.statValue,children:"-"}),(0,T.jsx)(d.default,{style:N.statLabel,children:"Á∏ΩÁ∞ΩÂà∞Êï∏"})]})]})]}):(0,T.jsxs)(i.default,{style:N.notLoginContainer,children:[(0,T.jsx)(d.default,{style:N.notLoginText,children:"Â∞öÊú™ÁôªÂÖ•"}),(0,T.jsx)(f.default,{style:N.loginButton,onPress:function(){(0,n(76513).useNavigation)().navigate("Auth")},children:(0,T.jsx)(d.default,{style:N.loginButtonText,children:"Á´ãÂç≥ÁôªÂÖ•"})})]})}),I&&$.map(function(e,t){return function(e,t){return(0,T.jsx)(i.default,{style:N.menuGroup,children:e.map(function(t,n){return(0,T.jsxs)(o.default.Fragment,{children:[J(t),n<e.length-1&&(0,T.jsx)(i.default,{style:N.menuDivider})]},t.id)})},t)}(e,t)}),(0,T.jsxs)(i.default,{style:N.footer,children:[(0,T.jsxs)(d.default,{style:N.footerText,children:[m.APP_INFO.NAME," v",m.APP_INFO.VERSION]}),(0,T.jsx)(d.default,{style:N.footerCopyright,children:"¬© 2026 ALIVE. All rights reserved."})]})]}),P&&(0,T.jsx)(i.default,{style:N.modalOverlay,children:(0,T.jsxs)(i.default,{style:N.modalContainer,children:[(0,T.jsx)(d.default,{style:N.modalTitle,children:"Á∑®ËºØÂÄã‰∫∫Ë≥áÊñô"}),(0,T.jsx)(d.default,{style:N.inputLabel,children:"ÂßìÂêç"}),(0,T.jsx)(g.default,{style:N.input,value:_,onChangeText:k,placeholder:"Ë´ãËº∏ÂÖ•ÂßìÂêç"}),(0,T.jsx)(g.default,{style:N.input,value:B,onChangeText:G,placeholder:"Ë´ãËº∏ÂÖ•ÈõªË©±ËôüÁ¢º",keyboardType:"phone-pad"}),(0,T.jsx)(d.default,{style:N.inputLabel,children:"LINE ID"}),(0,T.jsx)(g.default,{style:N.input,value:M,onChangeText:W,placeholder:"Ë´ãËº∏ÂÖ• LINE ID (ÈÅ∏Â°´)",autoCapitalize:"none"}),(0,T.jsxs)(i.default,{style:N.modalButtons,children:[(0,T.jsx)(f.default,{style:[N.modalButton,N.cancelButton],onPress:function(){return R(!1)},children:(0,T.jsx)(d.default,{style:N.cancelButtonText,children:"ÂèñÊ∂à"})}),(0,T.jsx)(f.default,{style:[N.modalButton,N.saveButton],onPress:q,disabled:V,children:V?(0,T.jsx)(h.default,{color:y.COLORS.white}):(0,T.jsx)(d.default,{style:N.saveButtonText,children:"ÂÑ≤Â≠ò"})})]})]})})]})})}},76352(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.useAuth=t.AuthProvider=void 0;var a=r(n(29293)),l=r(n(85715)),o=function(e){if("function"==typeof WeakMap){var t=new WeakMap;new WeakMap}return function(e){if(e&&e.__esModule)return e;var n,r,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(n=t){if(n.has(e))return n.get(e);n.set(e,a)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(r.get||r.set)?n(a,l,r):a[l]=e[l]);return a}(e)}(n(96540)),i=n(69742),d=n(74848),s=(0,o.createContext)(void 0);t.AuthProvider=function(e){var t=e.children,n=(0,o.useState)(null),r=(0,l.default)(n,2),u=r[0],c=r[1],f=(0,o.useState)(!0),S=(0,l.default)(f,2),g=S[0],h=S[1];(0,o.useEffect)(function(){T()},[]);var O,y,m,p,C,x,T=(O=(0,a.default)(function*(){try{if(yield i.authService.isAuthenticated()){var e=yield i.authService.getMe();e.data&&c(e.data)}}catch(e){console.error("Check auth error:",e)}finally{h(!1)}}),function(){return O.apply(this,arguments)}),N=(y=(0,a.default)(function*(e,t){try{var n,r=yield i.authService.login({email:e,password:t});return r.data?(c(r.data.user),{success:!0}):{success:!1,error:(null==(n=r.error)?void 0:n.message)||"ÁôªÂÖ•Â§±Êïó"}}catch(e){return{success:!1,error:e.message||"ÁôªÂÖ•Â§±Êïó"}}}),function(e,t){return y.apply(this,arguments)}),I=(m=(0,a.default)(function*(e,t,n,r){try{var a,l=yield i.authService.register({email:e,password:t,name:n,phoneNumber:r});return l.data?(c(l.data.user),{success:!0}):{success:!1,error:(null==(a=l.error)?void 0:a.message)||"Ë®ªÂÜäÂ§±Êïó"}}catch(e){return{success:!1,error:e.message||"Ë®ªÂÜäÂ§±Êïó"}}}),function(e,t,n,r){return m.apply(this,arguments)}),b=(p=(0,a.default)(function*(e,t){try{var n,r=yield i.authService.guestLogin({phoneNumber:e,name:t});return r.data?(c(r.data.user),{success:!0}):{success:!1,error:(null==(n=r.error)?void 0:n.message)||"Ë®™ÂÆ¢ÁôªÂÖ•Â§±Êïó"}}catch(e){return{success:!1,error:e.message||"Ë®™ÂÆ¢ÁôªÂÖ•Â§±Êïó"}}}),function(e,t){return p.apply(this,arguments)}),j=(C=(0,a.default)(function*(){yield i.authService.logout(),c(null)}),function(){return C.apply(this,arguments)}),v=(x=(0,a.default)(function*(){try{var e=yield i.authService.getMe();e.data&&c(e.data)}catch(e){console.error("Refresh user error:",e)}}),function(){return x.apply(this,arguments)});return(0,d.jsx)(s.Provider,{value:{user:u,isLoading:g,isAuthenticated:null!==u,login:N,register:I,guestLogin:b,logout:j,refreshUser:v},children:t})},t.useAuth=function(){var e=(0,o.useContext)(s);if(void 0===e)throw new Error("useAuth must be used within AuthProvider");return e}},79318(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i,d=r(n(29293)),s=r(n(17383)),u=r(n(34579)),c=n(19722),f=r(n(9271)),S=(0,u.default)(function e(){(0,s.default)(this,e)},[{key:"getAll",value:(i=(0,d.default)(function*(){var e=yield f.default.getToken();return e?(0,c.authenticatedRequest)("/contacts",e,{method:"GET"}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(){return i.apply(this,arguments)})},{key:"create",value:(o=(0,d.default)(function*(e){var t=yield f.default.getToken();return t?(0,c.authenticatedRequest)("/contacts",t,{method:"POST",body:JSON.stringify(e)}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return o.apply(this,arguments)})},{key:"update",value:(l=(0,d.default)(function*(e,t){var n=yield f.default.getToken();return n?(0,c.authenticatedRequest)(`/contacts/${e}`,n,{method:"PUT",body:JSON.stringify(t)}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e,t){return l.apply(this,arguments)})},{key:"delete",value:(a=(0,d.default)(function*(e){var t=yield f.default.getToken();return t?(0,c.authenticatedRequest)(`/contacts/${e}`,t,{method:"DELETE"}):{error:{code:"NO_TOKEN",message:"Êú™ÁôªÂÖ•"}}}),function(e){return a.apply(this,arguments)})}]);t.default=new S},81858(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SPACING=t.SHADOWS=t.RADIUS=t.FONTS=t.COLORS=t.CHECK_IN_BUTTON=t.ANIMATION=void 0;var n=t.COLORS={primary:"#00B894",primaryLight:"#55EFC4",primaryDark:"#00A884",gradientStart:"#00B894",gradientMiddle:"#55EFC4",gradientEnd:"#81ECEC",success:"#00B894",warning:"#FDCB6E",danger:"#E74C3C",info:"#74B9FF",white:"#FFFFFF",black:"#2D3436",gray100:"#F8F9FA",gray200:"#E9ECEF",gray300:"#DEE2E6",gray400:"#CED4DA",gray500:"#ADB5BD",gray600:"#6C757D",gray700:"#495057",gray800:"#343A40",gray900:"#212529",background:"#F0FFF4",backgroundDark:"#E8F5E9",cardBackground:"#FFFFFF",textPrimary:"#2D3436",textSecondary:"#636E72",textLight:"#B2BEC3",textOnPrimary:"#FFFFFF"},r=t.FONTS={light:"300",regular:"400",medium:"500",semiBold:"600",bold:"700",size:{xs:10,sm:12,md:14,lg:16,xl:18,xxl:20,xxxl:24,title:28,display:32,hero:48},lineHeight:{tight:1.2,normal:1.5,relaxed:1.8}},a=t.SPACING={xs:4,sm:8,md:12,lg:16,xl:20,xxl:24,xxxl:32,huge:48,massive:64},l=t.RADIUS={sm:4,md:8,lg:12,xl:16,xxl:20,round:50,full:9999},o=t.SHADOWS={sm:{shadowColor:n.black,shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:2,elevation:2},md:{shadowColor:n.black,shadowOffset:{width:0,height:2},shadowOpacity:.15,shadowRadius:4,elevation:4},lg:{shadowColor:n.black,shadowOffset:{width:0,height:4},shadowOpacity:.2,shadowRadius:8,elevation:8},xl:{shadowColor:n.black,shadowOffset:{width:0,height:8},shadowOpacity:.25,shadowRadius:16,elevation:16}},i=t.ANIMATION={fast:150,normal:300,slow:500},d=t.CHECK_IN_BUTTON={size:200,innerSize:180,iconSize:60};t.default={COLORS:n,FONTS:r,SPACING:a,RADIUS:l,SHADOWS:o,ANIMATION:i,CHECK_IN_BUTTON:d}},90442(e,t,n){var r=n(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(n(96540));var a=r(n(9176)),l=r(n(78506)),o=r(n(43999)),i=r(n(94650)),d=n(81858),s=n(74848),u=o.default.create({container:Object.assign({backgroundColor:d.COLORS.cardBackground,borderRadius:d.RADIUS.lg,padding:d.SPACING.lg},d.SHADOWS.sm),content:{flexDirection:"row",alignItems:"center"},iconContainer:{marginRight:d.SPACING.md},textContainer:{flex:1},title:{fontSize:d.FONTS.size.lg,fontWeight:d.FONTS.semiBold,color:d.COLORS.textPrimary},subtitle:{fontSize:d.FONTS.size.md,color:d.COLORS.textSecondary,marginTop:d.SPACING.xs},rightContainer:{marginLeft:d.SPACING.md}});t.default=function(e){var t=e.title,n=e.subtitle,r=e.variant,o=void 0===r?"default":r,c=e.icon,f=e.rightContent,S=e.onPress,g=e.style,h=e.children,O=function(e){switch(e){case"success":return{background:"#E8F5E9",border:d.COLORS.success,text:d.COLORS.success};case"warning":return{background:"#FFF8E1",border:d.COLORS.warning,text:"#F57F17"};case"danger":return{background:"#FFEBEE",border:d.COLORS.danger,text:d.COLORS.danger};case"info":return{background:"#E3F2FD",border:d.COLORS.info,text:"#1565C0"};default:return{background:d.COLORS.cardBackground,border:"transparent",text:d.COLORS.textPrimary}}}(o),y=S?i.default:a.default,m=S?{onPress:S,activeOpacity:.7}:{};return(0,s.jsx)(y,Object.assign({},m,{style:[u.container,{backgroundColor:O.background,borderLeftColor:O.border,borderLeftWidth:"default"!==o?4:0},g],children:(0,s.jsxs)(a.default,{style:u.content,children:[c&&(0,s.jsx)(a.default,{style:u.iconContainer,children:"string"==typeof c?(0,s.jsx)(l.default,{style:{fontSize:24},children:c}):c}),(0,s.jsxs)(a.default,{style:u.textContainer,children:[(0,s.jsx)(l.default,{style:[u.title,{color:O.text}],children:t}),n&&(0,s.jsx)(l.default,{style:u.subtitle,children:n}),h]}),f&&(0,s.jsx)(a.default,{style:u.rightContainer,children:f})]})}))}}}]);
//# sourceMappingURL=bundle.web.687f9fbed508659e8434.js.map